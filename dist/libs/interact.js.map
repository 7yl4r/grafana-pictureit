{"version":3,"sources":["../../src/libs/interact.js"],"names":["f","exports","module","define","amd","g","window","global","self","interact","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","init","_classCallCheck","instance","Constructor","TypeError","extend","fireUntilImmediateStopped","event","listeners","_i","_ref","listener","immediatePropagationStopped","Eventable","options","prototype","fire","onEvent","type","propagationStopped","on","eventType","push","off","eventList","index","indexOf","splice","undefined","getOriginXY","defaults","signals","new","InteractEvent","interaction","action","phase","element","related","preEnd","arguments","target","deltaSource","origin","starting","ending","coords","startCoords","curCoords","prevEvent","page","client","x","y","ctrlKey","altKey","shiftKey","metaKey","button","buttons","currentTarget","relatedTarget","interactable","t0","downTimes","signalArg","iEvent","pageX","pageY","clientX","clientY","x0","y0","clientX0","clientY0","timeStamp","dt","pointerDelta","duration","speed","velocityX","vx","velocityY","vy","swipe","getSwipe","angle","Math","atan2","PI","overlap","left","up","right","down","velocity","preventDefault","stopImmediatePropagation","stopPropagation","dx","dy","clone","is","events","actions","scope","_require","getElementRect","nodeContains","trySelector","matchesSelector","_require2","getWindow","_require3","contains","_require4","wheelEvent","interactables","Interactable","_context","context","document","_win","_doc","win","addDocument","set","setOnEvents","phases","onAction","function","onstart","onmove","onend","oninertiastart","setPerAction","option","object","perAction","enabled","bool","getRect","string","querySelector","rectChecker","checker","_backCompatOption","optionName","newValue","names","inContext","ownerDocument","_onOffMultiple","method","search","trim","split","array","_i2","_ref2","prop","eventTypes","addDelegate","add","removeDelegate","remove","base","perActions","actionName","methodDict","methodName","_i3","settingsMethods","_ref3","setting","unset","delegatedEvents","delegated","selectors","contexts","delegateListener","delegateUseCapture","_i4","interactions","_ref4","interacting","_ending","stop","indexOfElement","get","interactableGet","dontCheckInContext","ret","forEachMatch","callback","_i5","_ref5","utils","browser","domObjects","finder","methodNames","prevTouchTime","Interaction","pointerType","prepared","name","axis","edges","pointers","pointerIds","downTargets","prevCoords","downEvent","downPointer","_eventTarget","_curEventTarget","pointerIsDown","pointerWasMoved","_interacting","pointerDown","pointer","eventTarget","pointerIndex","updatePointer","start","copyAction","pointerMove","simulation","setCoords","duplicateMove","hypot","pointerMoveTolerance","getPointerIndex","duplicate","interactingBeforeMove","setCoordDeltas","doMove","copyCoords","_dontFireMove","pointerUp","curEventTarget","test","end","removePointer","currentAction","getPointerId","id","pointerId","_updateEventTargets","doOnInteractions","getPointerType","_utils$getEventTarget","getEventTargets","matches","supportsTouch","Date","getTime","changedTouches","changedTouch","invalidPointer","supportsPointerEvent","_interaction","_pointer","_interaction2","endAll","docEvents","pEventTypes","PointerEvent","move","cancel","mousedown","mousemove","mouseup","touchstart","touchmove","touchend","touchcancel","blur","onDocSignal","signalName","doc","eventMethod","_eventType","isIOS","passive","_ref6","pointerExtend","endAllInteractions","firePrepared","newEvent","defaultOptions","drag","mouseButtons","snap","restrict","inertia","autoScroll","startAxis","lockAxis","dragOptions","getCursor","abs","draggable","ondragstart","ondragend","merge","drop","accept","dynamicDrop","activeDrops","dropzones","elements","rects","dropEvents","setActiveDrops","dragEvent","getDropEvents","activate","fireActiveDrops","draggableElement","dropResult","getDrop","dropTarget","dropzone","dropElement","fireDropEvents","collectDrops","drops","current","dropElements","querySelectorAll","_ref7","currentElement","prevElement","dragElement","possibleDrops","validDrops","j","rect","dropCheck","dropIndex","indexOfDeepestElement","pointerEvent","enter","leave","deactivate","tmpl","prevDropElement","prevDropTarget","dragLeave","prevDropzone","dragEnter","dragmove","ondrop","ondropactivate","ondropdeactivate","ondragenter","ondragleave","ondropmove","number","max","min","dropped","dropOverlap","getPageXY","horizontal","vertical","top","bottom","dragRect","cx","width","cy","height","overlapArea","overlapRatio","_ref8","_ref9","gesture","ds","startDistance","prevDistance","distance","startAngle","prevAngle","scale","Infinity","isNaN","gesturable","ongesturestart","ongestureend","touches","touchDistance","box","touchBBox","touchAngle","da","prevScale","defaultMargin","resize","square","preserveAspectRatio","margin","NaN","invert","resizeOptions","resizeEdges","edge","checkResizeEdge","axes","cursors","isIe9","xy","topleft","bottomright","topright","bottomleft","cursorKey","edgeNames","startRect","linkedEdges","_linkedEdges","resizeStartAspectRatio","resizeRects","inverted","previous","delta","deltaRect","invertible","originalEdges","startAspectRatio","swap","resizable","onresizestart","onresizeend","value","interactableElement","matchesUpTo","resizeAxes","raf","domUtils","container","isScrolling","prevTime","request","scroll","now","scrollBy","scrollLeft","scrollTop","check","onInteractionMove","innerWidth","innerHeight","getElementClientRect","warnOnce","getAction","defaultActionChecker","actionChecker","ignoreFrom","allowFrom","testIgnore","testAllow","testIgnoreAllow","styleCursor","autoStart","withinInteractionLimit","maxInteractions","manualStart","maxPerElement","setActionDefaults","validateAction","actionInfo","getActionInfo","prepare","arg","validateSelector","matchElements","len","match","matchElement","pushMatches","parentNode","documentElement","style","cursor","maxActions","activeInteractions","targetCount","targetElementCount","otherAction","absX","absY","targetOptions","currentAxis","getDraggable","checkStartAxis","thisAxis","hold","delay","autoStartHoldTimer","getHoldDuration","setTimeout","clearTimeout","resistance","minSpeed","endSpeed","allowResume","smoothEndDuration","modifiers","animationFrame","inertiaStatus","active","smoothEnd","startEvent","upCoords","xe","ye","sx","sy","vx0","vys","lambda_v0","one_ve_v0","boundInertiaFrame","inertiaFrame","apply","boundSmoothEndFrame","smoothEndFrame","status","resumeEvent","resetStatuses","modifierStatuses","inertiaOptions","statuses","pointerSpeed","modifierResult","inertiaPossible","modifierArg","pageCoords","requireEndOnly","setAll","shouldMove","locked","vy0","v0","calcInertia","modifiedXe","modifiedYe","lambda","inertiaDur","log","te","updateInertiaCoords","progress","exp","quadPoint","getQuadraticCurvePoint","easeOutQuad","pageUp","clientUp","globalEvents","isSet","debug","getPointerAverage","pointerAverage","getTouchBBox","getTouchDistance","getTouchAngle","closest","removeDocument","checkAndPreventDefault","supportsPassive","onInteractionEvent","_arr","eventSignal","dragstart","preventNativeDrag","setOffsets","startOffset","modifierName","modifierOffsets","setOffset","result","changed","modifiedCoords","modifier","shouldDo","offset","modifiedX","modifiedY","beforeMove","setXY","modifyCoords","endOnly","restriction","elementRect","useStatusXY","getRestrictionRect","resolveRectLike","rectUtils","noInner","noOuter","restrictEdges","inner","xywhToTlbr","outer","noMin","noMax","restrictSize","minSize","tlbrToXywh","maxSize","range","targets","offsets","relativePoints","optionsOrigin","rectToXY","snapOffset","offsetRect","relativeX","relativeY","realX","realY","offsetX","offsetY","snapTarget","inRange","snapChanged","createSnapGrid","grid","limits","gridx","round","gridy","newX","newY","snapSize","pointerUtils","originalEvent","interval","tapTime","double","prevTap","subtractOrigin","originX","originY","addOrigin","simpleSignals","simpleEvents","pointerEvents","collectEventTargets","holdDuration","types","_arg$type","_arg$targets","_arg$pointerEvent","props","eventable","path","getPath","filter","holdTimers","timeout","timer","minDuration","_ref11","createSignalListener","_ref10","onNew","onFired","signal","endHoldRepeat","count","holdRepeatInterval","holdIntervalHandle","clearInterval","__backCompatOption","documents","onWindowUnload","Signals","targetListeners","source","item","Element","navigator","DocumentTouch","platform","isIOS7","appVersion","userAgent","prefixedMatchesSelector","MSPointerEvent","over","out","isOperaMobile","appName","dest","plainObject","blank","DocumentFragment","SVGElement","SVGSVGElement","SVGElementInstance","HTMLElement","Event","Touch","parent","child","selector","node","docFrag","host","realWindow","replace","deepestZoneParents","dropzoneParents","deepestZone","unshift","ownerSVGElement","parents","lastChild","previousSibling","limit","getActualElement","correspondingUseElement","getScrollXY","relevantWindow","scrollX","scrollY","clientRect","getBoundingClientRect","getClientRects","pExtend","supportsOptions","supported","createElement","addEventListener","capture","optionalArg","getOptions","elementIndex","typeCount","hasOwnProperty","removeEventListener","matchFound","_listeners$i","fn","fakeEvent","_pointerUtils$getEven","preventOriginalDefault","_listeners$j","param","_elements","_targets","actionOptions","actionOrigin","originRect","sqrt","message","warned","console","warn","_getQBezierValue","p1","p2","p3","iT","startX","startY","cpX","cpY","endX","endY","position","b","c","d","src","methodOrder","details","simulationResume","mouseOrPen","firstNonActive","hasPointer","idle","_i6","_typeof","Symbol","iterator","obj","constructor","isWindow","thing","nodeType","_function","_window","nodeName","Window","prefixedPropREs","deprecated","vendor","webkit","dom","targetObj","prev","cur","isNativePointer","getXY","getClientXY","identifier","tmpXY","getTouchPair","average","screenX","screenY","_prop","minX","minY","maxX","maxY","sourceX","sourceY","composedPath","vendors","lastTime","requestAnimationFrame","currTime","timeToCall","getStringOptionResult","functionArgs","el","createTextNode","wrap","rootNode","defaultView","parentWindow"],"mappings":"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","file":"interact.js","sourcesContent":["/**\n * interact.js v1.3.4\n *\n * Copyright (c) 2012-2018 Taye Adeyemi <dev@taye.me>\n * Released under the MIT License.\n * https://raw.github.com/taye/interact.js/master/LICENSE\n */\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.interact = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/*\n * In a (windowless) server environment this file exports a factory function\n * that takes the window to use.\n *\n *     var interact = require('interact.js')(windowObject);\n *\n * See https://github.com/taye/interact.js/issues/187\n */\nif (typeof window === 'undefined') {\n  module.exports = function (window) {\n    require('./src/utils/window').init(window);\n\n    return require('./src/index');\n  };\n} else {\n  module.exports = require('./src/index');\n}\n\n},{\"./src/index\":19,\"./src/utils/window\":52}],2:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar extend = require('./utils/extend.js');\n\nfunction fireUntilImmediateStopped(event, listeners) {\n  for (var _i = 0; _i < listeners.length; _i++) {\n    var _ref;\n\n    _ref = listeners[_i];\n    var listener = _ref;\n\n    if (event.immediatePropagationStopped) {\n      break;\n    }\n\n    listener(event);\n  }\n}\n\nvar Eventable = function () {\n  function Eventable(options) {\n    _classCallCheck(this, Eventable);\n\n    this.options = extend({}, options || {});\n  }\n\n  Eventable.prototype.fire = function fire(event) {\n    var listeners = void 0;\n    var onEvent = 'on' + event.type;\n    var global = this.global;\n\n    // Interactable#on() listeners\n    if (listeners = this[event.type]) {\n      fireUntilImmediateStopped(event, listeners);\n    }\n\n    // interactable.onevent listener\n    if (this[onEvent]) {\n      this[onEvent](event);\n    }\n\n    // interact.on() listeners\n    if (!event.propagationStopped && global && (listeners = global[event.type])) {\n      fireUntilImmediateStopped(event, listeners);\n    }\n  };\n\n  Eventable.prototype.on = function on(eventType, listener) {\n    // if this type of event was never bound\n    if (this[eventType]) {\n      this[eventType].push(listener);\n    } else {\n      this[eventType] = [listener];\n    }\n  };\n\n  Eventable.prototype.off = function off(eventType, listener) {\n    // if it is an action event type\n    var eventList = this[eventType];\n    var index = eventList ? eventList.indexOf(listener) : -1;\n\n    if (index !== -1) {\n      eventList.splice(index, 1);\n    }\n\n    if (eventList && eventList.length === 0 || !listener) {\n      this[eventType] = undefined;\n    }\n  };\n\n  return Eventable;\n}();\n\nmodule.exports = Eventable;\n\n},{\"./utils/extend.js\":41}],3:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar extend = require('./utils/extend');\nvar getOriginXY = require('./utils/getOriginXY');\nvar defaults = require('./defaultOptions');\nvar signals = require('./utils/Signals').new();\n\nvar InteractEvent = function () {\n  /** */\n  function InteractEvent(interaction, event, action, phase, element, related) {\n    var preEnd = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n\n    _classCallCheck(this, InteractEvent);\n\n    var target = interaction.target;\n    var deltaSource = (target && target.options || defaults).deltaSource;\n    var origin = getOriginXY(target, element, action);\n    var starting = phase === 'start';\n    var ending = phase === 'end';\n    var coords = starting ? interaction.startCoords : interaction.curCoords;\n    var prevEvent = interaction.prevEvent;\n\n    element = element || interaction.element;\n\n    var page = extend({}, coords.page);\n    var client = extend({}, coords.client);\n\n    page.x -= origin.x;\n    page.y -= origin.y;\n\n    client.x -= origin.x;\n    client.y -= origin.y;\n\n    this.ctrlKey = event.ctrlKey;\n    this.altKey = event.altKey;\n    this.shiftKey = event.shiftKey;\n    this.metaKey = event.metaKey;\n    this.button = event.button;\n    this.buttons = event.buttons;\n    this.target = element;\n    this.currentTarget = element;\n    this.relatedTarget = related || null;\n    this.preEnd = preEnd;\n    this.type = action + (phase || '');\n    this.interaction = interaction;\n    this.interactable = target;\n\n    this.t0 = starting ? interaction.downTimes[interaction.downTimes.length - 1] : prevEvent.t0;\n\n    var signalArg = {\n      interaction: interaction,\n      event: event,\n      action: action,\n      phase: phase,\n      element: element,\n      related: related,\n      page: page,\n      client: client,\n      coords: coords,\n      starting: starting,\n      ending: ending,\n      deltaSource: deltaSource,\n      iEvent: this\n    };\n\n    signals.fire('set-xy', signalArg);\n\n    if (ending) {\n      // use previous coords when ending\n      this.pageX = prevEvent.pageX;\n      this.pageY = prevEvent.pageY;\n      this.clientX = prevEvent.clientX;\n      this.clientY = prevEvent.clientY;\n    } else {\n      this.pageX = page.x;\n      this.pageY = page.y;\n      this.clientX = client.x;\n      this.clientY = client.y;\n    }\n\n    this.x0 = interaction.startCoords.page.x - origin.x;\n    this.y0 = interaction.startCoords.page.y - origin.y;\n    this.clientX0 = interaction.startCoords.client.x - origin.x;\n    this.clientY0 = interaction.startCoords.client.y - origin.y;\n\n    signals.fire('set-delta', signalArg);\n\n    this.timeStamp = coords.timeStamp;\n    this.dt = interaction.pointerDelta.timeStamp;\n    this.duration = this.timeStamp - this.t0;\n\n    // speed and velocity in pixels per second\n    this.speed = interaction.pointerDelta[deltaSource].speed;\n    this.velocityX = interaction.pointerDelta[deltaSource].vx;\n    this.velocityY = interaction.pointerDelta[deltaSource].vy;\n\n    this.swipe = ending || phase === 'inertiastart' ? this.getSwipe() : null;\n\n    signals.fire('new', signalArg);\n  }\n\n  InteractEvent.prototype.getSwipe = function getSwipe() {\n    var interaction = this.interaction;\n\n    if (interaction.prevEvent.speed < 600 || this.timeStamp - interaction.prevEvent.timeStamp > 150) {\n      return null;\n    }\n\n    var angle = 180 * Math.atan2(interaction.prevEvent.velocityY, interaction.prevEvent.velocityX) / Math.PI;\n    var overlap = 22.5;\n\n    if (angle < 0) {\n      angle += 360;\n    }\n\n    var left = 135 - overlap <= angle && angle < 225 + overlap;\n    var up = 225 - overlap <= angle && angle < 315 + overlap;\n\n    var right = !left && (315 - overlap <= angle || angle < 45 + overlap);\n    var down = !up && 45 - overlap <= angle && angle < 135 + overlap;\n\n    return {\n      up: up,\n      down: down,\n      left: left,\n      right: right,\n      angle: angle,\n      speed: interaction.prevEvent.speed,\n      velocity: {\n        x: interaction.prevEvent.velocityX,\n        y: interaction.prevEvent.velocityY\n      }\n    };\n  };\n\n  InteractEvent.prototype.preventDefault = function preventDefault() {};\n\n  /** */\n\n\n  InteractEvent.prototype.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  };\n\n  /** */\n\n\n  InteractEvent.prototype.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  return InteractEvent;\n}();\n\nsignals.on('set-delta', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction,\n      starting = _ref.starting,\n      deltaSource = _ref.deltaSource;\n\n  var prevEvent = starting ? iEvent : interaction.prevEvent;\n\n  if (deltaSource === 'client') {\n    iEvent.dx = iEvent.clientX - prevEvent.clientX;\n    iEvent.dy = iEvent.clientY - prevEvent.clientY;\n  } else {\n    iEvent.dx = iEvent.pageX - prevEvent.pageX;\n    iEvent.dy = iEvent.pageY - prevEvent.pageY;\n  }\n});\n\nInteractEvent.signals = signals;\n\nmodule.exports = InteractEvent;\n\n},{\"./defaultOptions\":18,\"./utils/Signals\":34,\"./utils/extend\":41,\"./utils/getOriginXY\":42}],4:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar clone = require('./utils/clone');\nvar is = require('./utils/is');\nvar events = require('./utils/events');\nvar extend = require('./utils/extend');\nvar actions = require('./actions/base');\nvar scope = require('./scope');\nvar Eventable = require('./Eventable');\nvar defaults = require('./defaultOptions');\nvar signals = require('./utils/Signals').new();\n\nvar _require = require('./utils/domUtils'),\n    getElementRect = _require.getElementRect,\n    nodeContains = _require.nodeContains,\n    trySelector = _require.trySelector,\n    matchesSelector = _require.matchesSelector;\n\nvar _require2 = require('./utils/window'),\n    getWindow = _require2.getWindow;\n\nvar _require3 = require('./utils/arr'),\n    contains = _require3.contains;\n\nvar _require4 = require('./utils/browser'),\n    wheelEvent = _require4.wheelEvent;\n\n// all set interactables\n\n\nscope.interactables = [];\n\nvar Interactable = function () {\n  /** */\n  function Interactable(target, options) {\n    _classCallCheck(this, Interactable);\n\n    options = options || {};\n\n    this.target = target;\n    this.events = new Eventable();\n    this._context = options.context || scope.document;\n    this._win = getWindow(trySelector(target) ? this._context : target);\n    this._doc = this._win.document;\n\n    signals.fire('new', {\n      target: target,\n      options: options,\n      interactable: this,\n      win: this._win\n    });\n\n    scope.addDocument(this._doc, this._win);\n\n    scope.interactables.push(this);\n\n    this.set(options);\n  }\n\n  Interactable.prototype.setOnEvents = function setOnEvents(action, phases) {\n    var onAction = 'on' + action;\n\n    if (is.function(phases.onstart)) {\n      this.events[onAction + 'start'] = phases.onstart;\n    }\n    if (is.function(phases.onmove)) {\n      this.events[onAction + 'move'] = phases.onmove;\n    }\n    if (is.function(phases.onend)) {\n      this.events[onAction + 'end'] = phases.onend;\n    }\n    if (is.function(phases.oninertiastart)) {\n      this.events[onAction + 'inertiastart'] = phases.oninertiastart;\n    }\n\n    return this;\n  };\n\n  Interactable.prototype.setPerAction = function setPerAction(action, options) {\n    // for all the default per-action options\n    for (var option in options) {\n      // if this option exists for this action\n      if (option in defaults[action]) {\n        // if the option in the options arg is an object value\n        if (is.object(options[option])) {\n          // duplicate the object and merge\n          this.options[action][option] = clone(this.options[action][option] || {});\n          extend(this.options[action][option], options[option]);\n\n          if (is.object(defaults.perAction[option]) && 'enabled' in defaults.perAction[option]) {\n            this.options[action][option].enabled = options[option].enabled === false ? false : true;\n          }\n        } else if (is.bool(options[option]) && is.object(defaults.perAction[option])) {\n          this.options[action][option].enabled = options[option];\n        } else if (options[option] !== undefined) {\n          // or if it's not undefined, do a plain assignment\n          this.options[action][option] = options[option];\n        }\n      }\n    }\n  };\n\n  /**\n   * The default function to get an Interactables bounding rect. Can be\n   * overridden using {@link Interactable.rectChecker}.\n   *\n   * @param {Element} [element] The element to measure.\n   * @return {object} The object's bounding rectangle.\n   */\n\n\n  Interactable.prototype.getRect = function getRect(element) {\n    element = element || this.target;\n\n    if (is.string(this.target) && !is.element(element)) {\n      element = this._context.querySelector(this.target);\n    }\n\n    return getElementRect(element);\n  };\n\n  /**\n   * Returns or sets the function used to calculate the interactable's\n   * element's rectangle\n   *\n   * @param {function} [checker] A function which returns this Interactable's\n   * bounding rectangle. See {@link Interactable.getRect}\n   * @return {function | object} The checker function or this Interactable\n   */\n\n\n  Interactable.prototype.rectChecker = function rectChecker(checker) {\n    if (is.function(checker)) {\n      this.getRect = checker;\n\n      return this;\n    }\n\n    if (checker === null) {\n      delete this.options.getRect;\n\n      return this;\n    }\n\n    return this.getRect;\n  };\n\n  Interactable.prototype._backCompatOption = function _backCompatOption(optionName, newValue) {\n    if (trySelector(newValue) || is.object(newValue)) {\n      this.options[optionName] = newValue;\n\n      for (var _i = 0; _i < actions.names.length; _i++) {\n        var _ref;\n\n        _ref = actions.names[_i];\n        var action = _ref;\n\n        this.options[action][optionName] = newValue;\n      }\n\n      return this;\n    }\n\n    return this.options[optionName];\n  };\n\n  /**\n   * Gets or sets the origin of the Interactable's element.  The x and y\n   * of the origin will be subtracted from action event coordinates.\n   *\n   * @param {Element | object | string} [origin] An HTML or SVG Element whose\n   * rect will be used, an object eg. { x: 0, y: 0 } or string 'parent', 'self'\n   * or any CSS selector\n   *\n   * @return {object} The current origin or this Interactable\n   */\n\n\n  Interactable.prototype.origin = function origin(newValue) {\n    return this._backCompatOption('origin', newValue);\n  };\n\n  /**\n   * Returns or sets the mouse coordinate types used to calculate the\n   * movement of the pointer.\n   *\n   * @param {string} [newValue] Use 'client' if you will be scrolling while\n   * interacting; Use 'page' if you want autoScroll to work\n   * @return {string | object} The current deltaSource or this Interactable\n   */\n\n\n  Interactable.prototype.deltaSource = function deltaSource(newValue) {\n    if (newValue === 'page' || newValue === 'client') {\n      this.options.deltaSource = newValue;\n\n      return this;\n    }\n\n    return this.options.deltaSource;\n  };\n\n  /**\n   * Gets the selector context Node of the Interactable. The default is\n   * `window.document`.\n   *\n   * @return {Node} The context Node of this Interactable\n   */\n\n\n  Interactable.prototype.context = function context() {\n    return this._context;\n  };\n\n  Interactable.prototype.inContext = function inContext(element) {\n    return this._context === element.ownerDocument || nodeContains(this._context, element);\n  };\n\n  /**\n   * Calls listeners for the given InteractEvent type bound globally\n   * and directly to this Interactable\n   *\n   * @param {InteractEvent} iEvent The InteractEvent object to be fired on this\n   * Interactable\n   * @return {Interactable} this Interactable\n   */\n\n\n  Interactable.prototype.fire = function fire(iEvent) {\n    this.events.fire(iEvent);\n\n    return this;\n  };\n\n  Interactable.prototype._onOffMultiple = function _onOffMultiple(method, eventType, listener, options) {\n    if (is.string(eventType) && eventType.search(' ') !== -1) {\n      eventType = eventType.trim().split(/ +/);\n    }\n\n    if (is.array(eventType)) {\n      for (var _i2 = 0; _i2 < eventType.length; _i2++) {\n        var _ref2;\n\n        _ref2 = eventType[_i2];\n        var type = _ref2;\n\n        this[method](type, listener, options);\n      }\n\n      return true;\n    }\n\n    if (is.object(eventType)) {\n      for (var prop in eventType) {\n        this[method](prop, eventType[prop], listener);\n      }\n\n      return true;\n    }\n  };\n\n  /**\n   * Binds a listener for an InteractEvent, pointerEvent or DOM event.\n   *\n   * @param {string | array | object} eventType  The types of events to listen\n   * for\n   * @param {function} listener   The function event (s)\n   * @param {object | boolean} [options]    options object or useCapture flag\n   * for addEventListener\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.on = function on(eventType, listener, options) {\n    if (this._onOffMultiple('on', eventType, listener, options)) {\n      return this;\n    }\n\n    if (eventType === 'wheel') {\n      eventType = wheelEvent;\n    }\n\n    if (contains(Interactable.eventTypes, eventType)) {\n      this.events.on(eventType, listener);\n    }\n    // delegated event for selector\n    else if (is.string(this.target)) {\n        events.addDelegate(this.target, this._context, eventType, listener, options);\n      } else {\n        events.add(this.target, eventType, listener, options);\n      }\n\n    return this;\n  };\n\n  /**\n   * Removes an InteractEvent, pointerEvent or DOM event listener\n   *\n   * @param {string | array | object} eventType The types of events that were\n   * listened for\n   * @param {function} listener The listener function to be removed\n   * @param {object | boolean} [options] options object or useCapture flag for\n   * removeEventListener\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.off = function off(eventType, listener, options) {\n    if (this._onOffMultiple('off', eventType, listener, options)) {\n      return this;\n    }\n\n    if (eventType === 'wheel') {\n      eventType = wheelEvent;\n    }\n\n    // if it is an action event type\n    if (contains(Interactable.eventTypes, eventType)) {\n      this.events.off(eventType, listener);\n    }\n    // delegated event\n    else if (is.string(this.target)) {\n        events.removeDelegate(this.target, this._context, eventType, listener, options);\n      }\n      // remove listener from this Interatable's element\n      else {\n          events.remove(this.target, eventType, listener, options);\n        }\n\n    return this;\n  };\n\n  /**\n   * Reset the options of this Interactable\n   *\n   * @param {object} options The new settings to apply\n   * @return {object} This Interactable\n   */\n\n\n  Interactable.prototype.set = function set(options) {\n    if (!is.object(options)) {\n      options = {};\n    }\n\n    this.options = clone(defaults.base);\n\n    var perActions = clone(defaults.perAction);\n\n    for (var actionName in actions.methodDict) {\n      var methodName = actions.methodDict[actionName];\n\n      this.options[actionName] = clone(defaults[actionName]);\n\n      this.setPerAction(actionName, perActions);\n\n      this[methodName](options[actionName]);\n    }\n\n    for (var _i3 = 0; _i3 < Interactable.settingsMethods.length; _i3++) {\n      var _ref3;\n\n      _ref3 = Interactable.settingsMethods[_i3];\n      var setting = _ref3;\n\n      this.options[setting] = defaults.base[setting];\n\n      if (setting in options) {\n        this[setting](options[setting]);\n      }\n    }\n\n    signals.fire('set', {\n      options: options,\n      interactable: this\n    });\n\n    return this;\n  };\n\n  /**\n   * Remove this interactable from the list of interactables and remove it's\n   * action capabilities and event listeners\n   *\n   * @return {interact}\n   */\n\n\n  Interactable.prototype.unset = function unset() {\n    events.remove(this.target, 'all');\n\n    if (is.string(this.target)) {\n      // remove delegated events\n      for (var type in events.delegatedEvents) {\n        var delegated = events.delegatedEvents[type];\n\n        if (delegated.selectors[0] === this.target && delegated.contexts[0] === this._context) {\n\n          delegated.selectors.splice(0, 1);\n          delegated.contexts.splice(0, 1);\n          delegated.listeners.splice(0, 1);\n\n          // remove the arrays if they are empty\n          if (!delegated.selectors.length) {\n            delegated[type] = null;\n          }\n        }\n\n        events.remove(this._context, type, events.delegateListener);\n        events.remove(this._context, type, events.delegateUseCapture, true);\n      }\n    } else {\n      events.remove(this, 'all');\n    }\n\n    signals.fire('unset', { interactable: this });\n\n    scope.interactables.splice(scope.interactables.indexOf(this), 1);\n\n    // Stop related interactions when an Interactable is unset\n    for (var _i4 = 0; _i4 < (scope.interactions || []).length; _i4++) {\n      var _ref4;\n\n      _ref4 = (scope.interactions || [])[_i4];\n      var interaction = _ref4;\n\n      if (interaction.target === this && interaction.interacting() && !interaction._ending) {\n        interaction.stop();\n      }\n    }\n\n    return scope.interact;\n  };\n\n  return Interactable;\n}();\n\nscope.interactables.indexOfElement = function indexOfElement(target, context) {\n  context = context || scope.document;\n\n  for (var i = 0; i < this.length; i++) {\n    var interactable = this[i];\n\n    if (interactable.target === target && interactable._context === context) {\n      return i;\n    }\n  }\n  return -1;\n};\n\nscope.interactables.get = function interactableGet(element, options, dontCheckInContext) {\n  var ret = this[this.indexOfElement(element, options && options.context)];\n\n  return ret && (is.string(element) || dontCheckInContext || ret.inContext(element)) ? ret : null;\n};\n\nscope.interactables.forEachMatch = function (element, callback) {\n  for (var _i5 = 0; _i5 < this.length; _i5++) {\n    var _ref5;\n\n    _ref5 = this[_i5];\n    var interactable = _ref5;\n\n    var ret = void 0;\n\n    if ((is.string(interactable.target)\n    // target is a selector and the element matches\n    ? is.element(element) && matchesSelector(element, interactable.target) :\n    // target is the element\n    element === interactable.target) &&\n    // the element is in context\n    interactable.inContext(element)) {\n      ret = callback(interactable);\n    }\n\n    if (ret !== undefined) {\n      return ret;\n    }\n  }\n};\n\n// all interact.js eventTypes\nInteractable.eventTypes = scope.eventTypes = [];\n\nInteractable.signals = signals;\n\nInteractable.settingsMethods = ['deltaSource', 'origin', 'preventDefault', 'rectChecker'];\n\nmodule.exports = Interactable;\n\n},{\"./Eventable\":2,\"./actions/base\":6,\"./defaultOptions\":18,\"./scope\":33,\"./utils/Signals\":34,\"./utils/arr\":35,\"./utils/browser\":36,\"./utils/clone\":37,\"./utils/domUtils\":39,\"./utils/events\":40,\"./utils/extend\":41,\"./utils/is\":46,\"./utils/window\":52}],5:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar scope = require('./scope');\nvar utils = require('./utils');\nvar events = require('./utils/events');\nvar browser = require('./utils/browser');\nvar domObjects = require('./utils/domObjects');\nvar finder = require('./utils/interactionFinder');\nvar signals = require('./utils/Signals').new();\n\nvar listeners = {};\nvar methodNames = ['pointerDown', 'pointerMove', 'pointerUp', 'updatePointer', 'removePointer'];\n\n// for ignoring browser's simulated mouse events\nvar prevTouchTime = 0;\n\n// all active and idle interactions\nscope.interactions = [];\n\nvar Interaction = function () {\n  /** */\n  function Interaction(_ref) {\n    var pointerType = _ref.pointerType;\n\n    _classCallCheck(this, Interaction);\n\n    this.target = null; // current interactable being interacted with\n    this.element = null; // the target element of the interactable\n\n    this.prepared = { // action that's ready to be fired on next move event\n      name: null,\n      axis: null,\n      edges: null\n    };\n\n    // keep track of added pointers\n    this.pointers = [];\n    this.pointerIds = [];\n    this.downTargets = [];\n    this.downTimes = [];\n\n    // Previous native pointer move event coordinates\n    this.prevCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n    // current native pointer move event coordinates\n    this.curCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n\n    // Starting InteractEvent pointer coordinates\n    this.startCoords = {\n      page: { x: 0, y: 0 },\n      client: { x: 0, y: 0 },\n      timeStamp: 0\n    };\n\n    // Change in coordinates and time of the pointer\n    this.pointerDelta = {\n      page: { x: 0, y: 0, vx: 0, vy: 0, speed: 0 },\n      client: { x: 0, y: 0, vx: 0, vy: 0, speed: 0 },\n      timeStamp: 0\n    };\n\n    this.downEvent = null; // pointerdown/mousedown/touchstart event\n    this.downPointer = {};\n\n    this._eventTarget = null;\n    this._curEventTarget = null;\n\n    this.prevEvent = null; // previous action event\n\n    this.pointerIsDown = false;\n    this.pointerWasMoved = false;\n    this._interacting = false;\n    this._ending = false;\n\n    this.pointerType = pointerType;\n\n    signals.fire('new', this);\n\n    scope.interactions.push(this);\n  }\n\n  Interaction.prototype.pointerDown = function pointerDown(pointer, event, eventTarget) {\n    var pointerIndex = this.updatePointer(pointer, event, true);\n\n    signals.fire('down', {\n      pointer: pointer,\n      event: event,\n      eventTarget: eventTarget,\n      pointerIndex: pointerIndex,\n      interaction: this\n    });\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable({\n   *     // disable the default drag start by down->move\n   *     manualStart: true\n   *   })\n   *   // start dragging after the user holds the pointer down\n   *   .on('hold', function (event) {\n   *     var interaction = event.interaction;\n   *\n   *     if (!interaction.interacting()) {\n   *       interaction.start({ name: 'drag' },\n   *                         event.interactable,\n   *                         event.currentTarget);\n   *     }\n   * });\n   * ```\n   *\n   * Start an action with the given Interactable and Element as tartgets. The\n   * action must be enabled for the target Interactable and an appropriate\n   * number of pointers must be held down - 1 for drag/resize, 2 for gesture.\n   *\n   * Use it with `interactable.<action>able({ manualStart: false })` to always\n   * [start actions manually](https://github.com/taye/interact.js/issues/114)\n   *\n   * @param {object} action   The action to be performed - drag, resize, etc.\n   * @param {Interactable} target  The Interactable to target\n   * @param {Element} element The DOM Element to target\n   * @return {object} interact\n   */\n\n\n  Interaction.prototype.start = function start(action, target, element) {\n    if (this.interacting() || !this.pointerIsDown || this.pointerIds.length < (action.name === 'gesture' ? 2 : 1)) {\n      return;\n    }\n\n    // if this interaction had been removed after stopping\n    // add it back\n    if (scope.interactions.indexOf(this) === -1) {\n      scope.interactions.push(this);\n    }\n\n    utils.copyAction(this.prepared, action);\n    this.target = target;\n    this.element = element;\n\n    signals.fire('action-start', {\n      interaction: this,\n      event: this.downEvent\n    });\n  };\n\n  Interaction.prototype.pointerMove = function pointerMove(pointer, event, eventTarget) {\n    if (!this.simulation) {\n      this.updatePointer(pointer);\n      utils.setCoords(this.curCoords, this.pointers);\n    }\n\n    var duplicateMove = this.curCoords.page.x === this.prevCoords.page.x && this.curCoords.page.y === this.prevCoords.page.y && this.curCoords.client.x === this.prevCoords.client.x && this.curCoords.client.y === this.prevCoords.client.y;\n\n    var dx = void 0;\n    var dy = void 0;\n\n    // register movement greater than pointerMoveTolerance\n    if (this.pointerIsDown && !this.pointerWasMoved) {\n      dx = this.curCoords.client.x - this.startCoords.client.x;\n      dy = this.curCoords.client.y - this.startCoords.client.y;\n\n      this.pointerWasMoved = utils.hypot(dx, dy) > Interaction.pointerMoveTolerance;\n    }\n\n    var signalArg = {\n      pointer: pointer,\n      pointerIndex: this.getPointerIndex(pointer),\n      event: event,\n      eventTarget: eventTarget,\n      dx: dx,\n      dy: dy,\n      duplicate: duplicateMove,\n      interaction: this,\n      interactingBeforeMove: this.interacting()\n    };\n\n    if (!duplicateMove) {\n      // set pointer coordinate, time changes and speeds\n      utils.setCoordDeltas(this.pointerDelta, this.prevCoords, this.curCoords);\n    }\n\n    signals.fire('move', signalArg);\n\n    if (!duplicateMove) {\n      // if interacting, fire an 'action-move' signal etc\n      if (this.interacting()) {\n        this.doMove(signalArg);\n      }\n\n      if (this.pointerWasMoved) {\n        utils.copyCoords(this.prevCoords, this.curCoords);\n      }\n    }\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('dragmove', function (event) {\n   *     if (someCondition) {\n   *       // change the snap settings\n   *       event.interactable.draggable({ snap: { targets: [] }});\n   *       // fire another move event with re-calculated snap\n   *       event.interaction.doMove();\n   *     }\n   *   });\n   * ```\n   *\n   * Force a move of the current action at the same coordinates. Useful if\n   * snap/restrict has been changed and you want a movement with the new\n   * settings.\n   */\n\n\n  Interaction.prototype.doMove = function doMove(signalArg) {\n    signalArg = utils.extend({\n      pointer: this.pointers[0],\n      event: this.prevEvent,\n      eventTarget: this._eventTarget,\n      interaction: this\n    }, signalArg || {});\n\n    signals.fire('before-action-move', signalArg);\n\n    if (!this._dontFireMove) {\n      signals.fire('action-move', signalArg);\n    }\n\n    this._dontFireMove = false;\n  };\n\n  // End interact move events and stop auto-scroll unless simulation is running\n\n\n  Interaction.prototype.pointerUp = function pointerUp(pointer, event, eventTarget, curEventTarget) {\n    var pointerIndex = this.getPointerIndex(pointer);\n\n    signals.fire(/cancel$/i.test(event.type) ? 'cancel' : 'up', {\n      pointer: pointer,\n      pointerIndex: pointerIndex,\n      event: event,\n      eventTarget: eventTarget,\n      curEventTarget: curEventTarget,\n      interaction: this\n    });\n\n    if (!this.simulation) {\n      this.end(event);\n    }\n\n    this.pointerIsDown = false;\n    this.removePointer(pointer, event);\n  };\n\n  /**\n   * ```js\n   * interact(target)\n   *   .draggable(true)\n   *   .on('move', function (event) {\n   *     if (event.pageX > 1000) {\n   *       // end the current action\n   *       event.interaction.end();\n   *       // stop all further listeners from being called\n   *       event.stopImmediatePropagation();\n   *     }\n   *   });\n   * ```\n   *\n   * Stop the current action and fire an end event. Inertial movement does\n   * not happen.\n   *\n   * @param {PointerEvent} [event]\n   */\n\n\n  Interaction.prototype.end = function end(event) {\n    this._ending = true;\n\n    event = event || this.prevEvent;\n\n    if (this.interacting()) {\n      signals.fire('action-end', {\n        event: event,\n        interaction: this\n      });\n    }\n\n    this.stop();\n    this._ending = false;\n  };\n\n  Interaction.prototype.currentAction = function currentAction() {\n    return this._interacting ? this.prepared.name : null;\n  };\n\n  Interaction.prototype.interacting = function interacting() {\n    return this._interacting;\n  };\n\n  /** */\n\n\n  Interaction.prototype.stop = function stop() {\n    signals.fire('stop', { interaction: this });\n\n    if (this._interacting) {\n      signals.fire('stop-active', { interaction: this });\n      signals.fire('stop-' + this.prepared.name, { interaction: this });\n    }\n\n    this.target = this.element = null;\n\n    this._interacting = false;\n    this.prepared.name = this.prevEvent = null;\n  };\n\n  Interaction.prototype.getPointerIndex = function getPointerIndex(pointer) {\n    // mouse and pen interactions may have only one pointer\n    if (this.pointerType === 'mouse' || this.pointerType === 'pen') {\n      return 0;\n    }\n\n    return this.pointerIds.indexOf(utils.getPointerId(pointer));\n  };\n\n  Interaction.prototype.updatePointer = function updatePointer(pointer, event) {\n    var down = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : event && /(down|start)$/i.test(event.type);\n\n    var id = utils.getPointerId(pointer);\n    var index = this.getPointerIndex(pointer);\n\n    if (index === -1) {\n      index = this.pointerIds.length;\n      this.pointerIds[index] = id;\n    }\n\n    if (down) {\n      signals.fire('update-pointer-down', {\n        pointer: pointer,\n        event: event,\n        down: down,\n        pointerId: id,\n        pointerIndex: index,\n        interaction: this\n      });\n    }\n\n    this.pointers[index] = pointer;\n\n    return index;\n  };\n\n  Interaction.prototype.removePointer = function removePointer(pointer, event) {\n    var index = this.getPointerIndex(pointer);\n\n    if (index === -1) {\n      return;\n    }\n\n    signals.fire('remove-pointer', {\n      pointer: pointer,\n      event: event,\n      pointerIndex: index,\n      interaction: this\n    });\n\n    this.pointers.splice(index, 1);\n    this.pointerIds.splice(index, 1);\n    this.downTargets.splice(index, 1);\n    this.downTimes.splice(index, 1);\n  };\n\n  Interaction.prototype._updateEventTargets = function _updateEventTargets(target, currentTarget) {\n    this._eventTarget = target;\n    this._curEventTarget = currentTarget;\n  };\n\n  return Interaction;\n}();\n\nfor (var _i = 0; _i < methodNames.length; _i++) {\n  var method = methodNames[_i];\n  listeners[method] = doOnInteractions(method);\n}\n\nfunction doOnInteractions(method) {\n  return function (event) {\n    var pointerType = utils.getPointerType(event);\n\n    var _utils$getEventTarget = utils.getEventTargets(event),\n        eventTarget = _utils$getEventTarget[0],\n        curEventTarget = _utils$getEventTarget[1];\n\n    var matches = []; // [ [pointer, interaction], ...]\n\n    if (browser.supportsTouch && /touch/.test(event.type)) {\n      prevTouchTime = new Date().getTime();\n\n      for (var _i2 = 0; _i2 < event.changedTouches.length; _i2++) {\n        var _ref2;\n\n        _ref2 = event.changedTouches[_i2];\n        var changedTouch = _ref2;\n\n        var pointer = changedTouch;\n        var interaction = finder.search(pointer, event.type, eventTarget);\n\n        matches.push([pointer, interaction || new Interaction({ pointerType: pointerType })]);\n      }\n    } else {\n      var invalidPointer = false;\n\n      if (!browser.supportsPointerEvent && /mouse/.test(event.type)) {\n        // ignore mouse events while touch interactions are active\n        for (var i = 0; i < scope.interactions.length && !invalidPointer; i++) {\n          invalidPointer = scope.interactions[i].pointerType !== 'mouse' && scope.interactions[i].pointerIsDown;\n        }\n\n        // try to ignore mouse events that are simulated by the browser\n        // after a touch event\n        invalidPointer = invalidPointer || new Date().getTime() - prevTouchTime < 500\n        // on iOS and Firefox Mobile, MouseEvent.timeStamp is zero if simulated\n        || event.timeStamp === 0;\n      }\n\n      if (!invalidPointer) {\n        var _interaction = finder.search(event, event.type, eventTarget);\n\n        if (!_interaction) {\n          _interaction = new Interaction({ pointerType: pointerType });\n        }\n\n        matches.push([event, _interaction]);\n      }\n    }\n\n    for (var _i3 = 0; _i3 < matches.length; _i3++) {\n      var _ref3 = matches[_i3];\n      var _pointer = _ref3[0];\n      var _interaction2 = _ref3[1];\n\n      _interaction2._updateEventTargets(eventTarget, curEventTarget);\n      _interaction2[method](_pointer, event, eventTarget, curEventTarget);\n    }\n  };\n}\n\nfunction endAll(event) {\n  for (var _i4 = 0; _i4 < scope.interactions.length; _i4++) {\n    var _ref4;\n\n    _ref4 = scope.interactions[_i4];\n    var interaction = _ref4;\n\n    interaction.end(event);\n    signals.fire('endall', { event: event, interaction: interaction });\n  }\n}\n\nvar docEvents = {/* 'eventType': listenerFunc */};\nvar pEventTypes = browser.pEventTypes;\n\nif (domObjects.PointerEvent) {\n  docEvents[pEventTypes.down] = listeners.pointerDown;\n  docEvents[pEventTypes.move] = listeners.pointerMove;\n  docEvents[pEventTypes.up] = listeners.pointerUp;\n  docEvents[pEventTypes.cancel] = listeners.pointerUp;\n} else {\n  docEvents.mousedown = listeners.pointerDown;\n  docEvents.mousemove = listeners.pointerMove;\n  docEvents.mouseup = listeners.pointerUp;\n\n  docEvents.touchstart = listeners.pointerDown;\n  docEvents.touchmove = listeners.pointerMove;\n  docEvents.touchend = listeners.pointerUp;\n  docEvents.touchcancel = listeners.pointerUp;\n}\n\ndocEvents.blur = endAll;\n\nfunction onDocSignal(_ref5, signalName) {\n  var doc = _ref5.doc;\n\n  var eventMethod = signalName.indexOf('add') === 0 ? events.add : events.remove;\n\n  // delegate event listener\n  for (var eventType in scope.delegatedEvents) {\n    eventMethod(doc, eventType, events.delegateListener);\n    eventMethod(doc, eventType, events.delegateUseCapture, true);\n  }\n\n  for (var _eventType in docEvents) {\n    eventMethod(doc, _eventType, docEvents[_eventType], browser.isIOS ? { passive: false } : undefined);\n  }\n}\n\nsignals.on('update-pointer-down', function (_ref6) {\n  var interaction = _ref6.interaction,\n      pointer = _ref6.pointer,\n      pointerId = _ref6.pointerId,\n      pointerIndex = _ref6.pointerIndex,\n      event = _ref6.event,\n      eventTarget = _ref6.eventTarget,\n      down = _ref6.down;\n\n  interaction.pointerIds[pointerIndex] = pointerId;\n  interaction.pointers[pointerIndex] = pointer;\n\n  if (down) {\n    interaction.pointerIsDown = true;\n  }\n\n  if (!interaction.interacting()) {\n    utils.setCoords(interaction.startCoords, interaction.pointers);\n\n    utils.copyCoords(interaction.curCoords, interaction.startCoords);\n    utils.copyCoords(interaction.prevCoords, interaction.startCoords);\n\n    interaction.downEvent = event;\n    interaction.downTimes[pointerIndex] = interaction.curCoords.timeStamp;\n    interaction.downTargets[pointerIndex] = eventTarget || event && utils.getEventTargets(event)[0];\n    interaction.pointerWasMoved = false;\n\n    utils.pointerExtend(interaction.downPointer, pointer);\n  }\n});\n\nscope.signals.on('add-document', onDocSignal);\nscope.signals.on('remove-document', onDocSignal);\n\nInteraction.pointerMoveTolerance = 1;\nInteraction.doOnInteractions = doOnInteractions;\nInteraction.endAll = endAll;\nInteraction.signals = signals;\nInteraction.docEvents = docEvents;\n\nscope.endAllInteractions = endAll;\n\nmodule.exports = Interaction;\n\n},{\"./scope\":33,\"./utils\":44,\"./utils/Signals\":34,\"./utils/browser\":36,\"./utils/domObjects\":38,\"./utils/events\":40,\"./utils/interactionFinder\":45}],6:[function(require,module,exports){\n'use strict';\n\nvar Interaction = require('../Interaction');\nvar InteractEvent = require('../InteractEvent');\n\nvar actions = {\n  firePrepared: firePrepared,\n  names: [],\n  methodDict: {}\n};\n\nInteraction.signals.on('action-start', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  interaction._interacting = true;\n  firePrepared(interaction, event, 'start');\n});\n\nInteraction.signals.on('action-move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      event = _ref2.event,\n      preEnd = _ref2.preEnd;\n\n  firePrepared(interaction, event, 'move', preEnd);\n\n  // if the action was ended in a listener\n  if (!interaction.interacting()) {\n    return false;\n  }\n});\n\nInteraction.signals.on('action-end', function (_ref3) {\n  var interaction = _ref3.interaction,\n      event = _ref3.event;\n\n  firePrepared(interaction, event, 'end');\n});\n\nfunction firePrepared(interaction, event, phase, preEnd) {\n  var actionName = interaction.prepared.name;\n\n  var newEvent = new InteractEvent(interaction, event, actionName, phase, interaction.element, null, preEnd);\n\n  interaction.target.fire(newEvent);\n  interaction.prevEvent = newEvent;\n}\n\nmodule.exports = actions;\n\n},{\"../InteractEvent\":3,\"../Interaction\":5}],7:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar drag = {\n  defaults: {\n    enabled: false,\n    mouseButtons: null,\n\n    origin: null,\n    snap: null,\n    restrict: null,\n    inertia: null,\n    autoScroll: null,\n\n    startAxis: 'xy',\n    lockAxis: 'xy'\n  },\n\n  checker: function checker(pointer, event, interactable) {\n    var dragOptions = interactable.options.drag;\n\n    return dragOptions.enabled ? { name: 'drag', axis: dragOptions.lockAxis === 'start' ? dragOptions.startAxis : dragOptions.lockAxis } : null;\n  },\n\n  getCursor: function getCursor() {\n    return 'move';\n  }\n};\n\nInteraction.signals.on('before-action-move', function (_ref) {\n  var interaction = _ref.interaction;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  var axis = interaction.prepared.axis;\n\n  if (axis === 'x') {\n    interaction.curCoords.page.y = interaction.startCoords.page.y;\n    interaction.curCoords.client.y = interaction.startCoords.client.y;\n\n    interaction.pointerDelta.page.speed = Math.abs(interaction.pointerDelta.page.vx);\n    interaction.pointerDelta.client.speed = Math.abs(interaction.pointerDelta.client.vx);\n    interaction.pointerDelta.client.vy = 0;\n    interaction.pointerDelta.page.vy = 0;\n  } else if (axis === 'y') {\n    interaction.curCoords.page.x = interaction.startCoords.page.x;\n    interaction.curCoords.client.x = interaction.startCoords.client.x;\n\n    interaction.pointerDelta.page.speed = Math.abs(interaction.pointerDelta.page.vy);\n    interaction.pointerDelta.client.speed = Math.abs(interaction.pointerDelta.client.vy);\n    interaction.pointerDelta.client.vx = 0;\n    interaction.pointerDelta.page.vx = 0;\n  }\n});\n\n// dragmove\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      interaction = _ref2.interaction;\n\n  if (iEvent.type !== 'dragmove') {\n    return;\n  }\n\n  var axis = interaction.prepared.axis;\n\n  if (axis === 'x') {\n    iEvent.pageY = interaction.startCoords.page.y;\n    iEvent.clientY = interaction.startCoords.client.y;\n    iEvent.dy = 0;\n  } else if (axis === 'y') {\n    iEvent.pageX = interaction.startCoords.page.x;\n    iEvent.clientX = interaction.startCoords.client.x;\n    iEvent.dx = 0;\n  }\n});\n\n/**\n * ```js\n * interact(element).draggable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // the axis in which the first movement must be\n *     // for the drag sequence to start\n *     // 'xy' by default - any direction\n *     startAxis: 'x' || 'y' || 'xy',\n *\n *     // 'xy' by default - don't restrict to one axis (move in any direction)\n *     // 'x' or 'y' to restrict movement to either axis\n *     // 'start' to restrict movement to the axis the drag started in\n *     lockAxis: 'x' || 'y' || 'xy' || 'start',\n *\n *     // max number of drags that can happen concurrently\n *     // with elements of this Interactable. Infinity by default\n *     max: Infinity,\n *\n *     // max number of drags that can target the same element+Interactable\n *     // 1 by default\n *     maxPerElement: 2\n * });\n *\n * var isDraggable = interact('element').draggable(); // true\n * ```\n *\n * Get or set whether drag actions can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on drag events (object makes the Interactable\n * draggable)\n * @return {boolean | Interactable} boolean indicating if this can be the\n * target of drag events, or this Interctable\n */\nInteractable.prototype.draggable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.drag.enabled = options.enabled === false ? false : true;\n    this.setPerAction('drag', options);\n    this.setOnEvents('drag', options);\n\n    if (/^(xy|x|y|start)$/.test(options.lockAxis)) {\n      this.options.drag.lockAxis = options.lockAxis;\n    }\n    if (/^(xy|x|y)$/.test(options.startAxis)) {\n      this.options.drag.startAxis = options.startAxis;\n    }\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.drag.enabled = options;\n\n    if (!options) {\n      this.ondragstart = this.ondragstart = this.ondragend = null;\n    }\n\n    return this;\n  }\n\n  return this.options.drag;\n};\n\nactions.drag = drag;\nactions.names.push('drag');\nutils.merge(Interactable.eventTypes, ['dragstart', 'dragmove', 'draginertiastart', 'draginertiaresume', 'dragend']);\nactions.methodDict.drag = 'draggable';\n\ndefaultOptions.drag = drag.defaults;\n\nmodule.exports = drag;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"./base\":6}],8:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar scope = require('../scope');\n/** @lends module:interact */\nvar interact = require('../interact');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar drop = {\n  defaults: {\n    enabled: false,\n    accept: null,\n    overlap: 'pointer'\n  }\n};\n\nvar dynamicDrop = false;\n\nInteraction.signals.on('action-start', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  // reset active dropzones\n  interaction.activeDrops.dropzones = [];\n  interaction.activeDrops.elements = [];\n  interaction.activeDrops.rects = [];\n\n  interaction.dropEvents = null;\n\n  if (!interaction.dynamicDrop) {\n    setActiveDrops(interaction.activeDrops, interaction.element);\n  }\n\n  var dragEvent = interaction.prevEvent;\n  var dropEvents = getDropEvents(interaction, event, dragEvent);\n\n  if (dropEvents.activate) {\n    fireActiveDrops(interaction.activeDrops, dropEvents.activate);\n  }\n});\n\nInteractEvent.signals.on('new', function (_ref2) {\n  var interaction = _ref2.interaction,\n      iEvent = _ref2.iEvent,\n      event = _ref2.event;\n\n  if (iEvent.type !== 'dragmove' && iEvent.type !== 'dragend') {\n    return;\n  }\n\n  var draggableElement = interaction.element;\n  var dragEvent = iEvent;\n  var dropResult = getDrop(dragEvent, event, draggableElement);\n\n  interaction.dropTarget = dropResult.dropzone;\n  interaction.dropElement = dropResult.element;\n\n  interaction.dropEvents = getDropEvents(interaction, event, dragEvent);\n});\n\nInteraction.signals.on('action-move', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  fireDropEvents(interaction, interaction.dropEvents);\n});\n\nInteraction.signals.on('action-end', function (_ref4) {\n  var interaction = _ref4.interaction;\n\n  if (interaction.prepared.name === 'drag') {\n    fireDropEvents(interaction, interaction.dropEvents);\n  }\n});\n\nInteraction.signals.on('stop-drag', function (_ref5) {\n  var interaction = _ref5.interaction;\n\n  interaction.activeDrops = {\n    dropzones: null,\n    elements: null,\n    rects: null\n  };\n\n  interaction.dropEvents = null;\n});\n\nfunction collectDrops(activeDrops, element) {\n  var drops = [];\n  var elements = [];\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (var _i = 0; _i < scope.interactables.length; _i++) {\n    var _ref6;\n\n    _ref6 = scope.interactables[_i];\n    var current = _ref6;\n\n    if (!current.options.drop.enabled) {\n      continue;\n    }\n\n    var accept = current.options.drop.accept;\n\n    // test the draggable element against the dropzone's accept setting\n    if (utils.is.element(accept) && accept !== element || utils.is.string(accept) && !utils.matchesSelector(element, accept)) {\n\n      continue;\n    }\n\n    // query for new elements if necessary\n    var dropElements = utils.is.string(current.target) ? current._context.querySelectorAll(current.target) : [current.target];\n\n    for (var _i2 = 0; _i2 < dropElements.length; _i2++) {\n      var _ref7;\n\n      _ref7 = dropElements[_i2];\n      var currentElement = _ref7;\n\n      if (currentElement !== element) {\n        drops.push(current);\n        elements.push(currentElement);\n      }\n    }\n  }\n\n  return {\n    elements: elements,\n    dropzones: drops\n  };\n}\n\nfunction fireActiveDrops(activeDrops, event) {\n  var prevElement = void 0;\n\n  // loop through all active dropzones and trigger event\n  for (var i = 0; i < activeDrops.dropzones.length; i++) {\n    var current = activeDrops.dropzones[i];\n    var currentElement = activeDrops.elements[i];\n\n    // prevent trigger of duplicate events on same element\n    if (currentElement !== prevElement) {\n      // set current element as event target\n      event.target = currentElement;\n      current.fire(event);\n    }\n    prevElement = currentElement;\n  }\n}\n\n// Collect a new set of possible drops and save them in activeDrops.\n// setActiveDrops should always be called when a drag has just started or a\n// drag event happens while dynamicDrop is true\nfunction setActiveDrops(activeDrops, dragElement) {\n  // get dropzones and their elements that could receive the draggable\n  var possibleDrops = collectDrops(activeDrops, dragElement);\n\n  activeDrops.dropzones = possibleDrops.dropzones;\n  activeDrops.elements = possibleDrops.elements;\n  activeDrops.rects = [];\n\n  for (var i = 0; i < activeDrops.dropzones.length; i++) {\n    activeDrops.rects[i] = activeDrops.dropzones[i].getRect(activeDrops.elements[i]);\n  }\n}\n\nfunction getDrop(dragEvent, event, dragElement) {\n  var interaction = dragEvent.interaction;\n  var validDrops = [];\n\n  if (dynamicDrop) {\n    setActiveDrops(interaction.activeDrops, dragElement);\n  }\n\n  // collect all dropzones and their elements which qualify for a drop\n  for (var j = 0; j < interaction.activeDrops.dropzones.length; j++) {\n    var current = interaction.activeDrops.dropzones[j];\n    var currentElement = interaction.activeDrops.elements[j];\n    var rect = interaction.activeDrops.rects[j];\n\n    validDrops.push(current.dropCheck(dragEvent, event, interaction.target, dragElement, currentElement, rect) ? currentElement : null);\n  }\n\n  // get the most appropriate dropzone based on DOM depth and order\n  var dropIndex = utils.indexOfDeepestElement(validDrops);\n\n  return {\n    dropzone: interaction.activeDrops.dropzones[dropIndex] || null,\n    element: interaction.activeDrops.elements[dropIndex] || null\n  };\n}\n\nfunction getDropEvents(interaction, pointerEvent, dragEvent) {\n  var dropEvents = {\n    enter: null,\n    leave: null,\n    activate: null,\n    deactivate: null,\n    move: null,\n    drop: null\n  };\n\n  var tmpl = {\n    dragEvent: dragEvent,\n    interaction: interaction,\n    target: interaction.dropElement,\n    dropzone: interaction.dropTarget,\n    relatedTarget: dragEvent.target,\n    draggable: dragEvent.interactable,\n    timeStamp: dragEvent.timeStamp\n  };\n\n  if (interaction.dropElement !== interaction.prevDropElement) {\n    // if there was a prevDropTarget, create a dragleave event\n    if (interaction.prevDropTarget) {\n      dropEvents.leave = utils.extend({ type: 'dragleave' }, tmpl);\n\n      dragEvent.dragLeave = dropEvents.leave.target = interaction.prevDropElement;\n      dragEvent.prevDropzone = dropEvents.leave.dropzone = interaction.prevDropTarget;\n    }\n    // if the dropTarget is not null, create a dragenter event\n    if (interaction.dropTarget) {\n      dropEvents.enter = {\n        dragEvent: dragEvent,\n        interaction: interaction,\n        target: interaction.dropElement,\n        dropzone: interaction.dropTarget,\n        relatedTarget: dragEvent.target,\n        draggable: dragEvent.interactable,\n        timeStamp: dragEvent.timeStamp,\n        type: 'dragenter'\n      };\n\n      dragEvent.dragEnter = interaction.dropElement;\n      dragEvent.dropzone = interaction.dropTarget;\n    }\n  }\n\n  if (dragEvent.type === 'dragend' && interaction.dropTarget) {\n    dropEvents.drop = utils.extend({ type: 'drop' }, tmpl);\n\n    dragEvent.dropzone = interaction.dropTarget;\n    dragEvent.relatedTarget = interaction.dropElement;\n  }\n  if (dragEvent.type === 'dragstart') {\n    dropEvents.activate = utils.extend({ type: 'dropactivate' }, tmpl);\n\n    dropEvents.activate.target = null;\n    dropEvents.activate.dropzone = null;\n  }\n  if (dragEvent.type === 'dragend') {\n    dropEvents.deactivate = utils.extend({ type: 'dropdeactivate' }, tmpl);\n\n    dropEvents.deactivate.target = null;\n    dropEvents.deactivate.dropzone = null;\n  }\n  if (dragEvent.type === 'dragmove' && interaction.dropTarget) {\n    dropEvents.move = utils.extend({\n      dragmove: dragEvent,\n      type: 'dropmove'\n    }, tmpl);\n\n    dragEvent.dropzone = interaction.dropTarget;\n  }\n\n  return dropEvents;\n}\n\nfunction fireDropEvents(interaction, dropEvents) {\n  var activeDrops = interaction.activeDrops,\n      prevDropTarget = interaction.prevDropTarget,\n      dropTarget = interaction.dropTarget,\n      dropElement = interaction.dropElement;\n\n\n  if (dropEvents.leave) {\n    prevDropTarget.fire(dropEvents.leave);\n  }\n  if (dropEvents.move) {\n    dropTarget.fire(dropEvents.move);\n  }\n  if (dropEvents.enter) {\n    dropTarget.fire(dropEvents.enter);\n  }\n  if (dropEvents.drop) {\n    dropTarget.fire(dropEvents.drop);\n  }\n  if (dropEvents.deactivate) {\n    fireActiveDrops(activeDrops, dropEvents.deactivate);\n  }\n\n  interaction.prevDropTarget = dropTarget;\n  interaction.prevDropElement = dropElement;\n}\n\n/**\n * ```js\n * interact(target)\n * .dropChecker(function(dragEvent,         // related dragmove or dragend event\n *                       event,             // TouchEvent/PointerEvent/MouseEvent\n *                       dropped,           // bool result of the default checker\n *                       dropzone,          // dropzone Interactable\n *                       dropElement,       // dropzone elemnt\n *                       draggable,         // draggable Interactable\n *                       draggableElement) {// draggable element\n *\n *   return dropped && event.target.hasAttribute('allow-drop');\n * }\n * ```\n *\n * ```js\n * interact('.drop').dropzone({\n *   accept: '.can-drop' || document.getElementById('single-drop'),\n *   overlap: 'pointer' || 'center' || zeroToOne\n * }\n * ```\n *\n * Returns or sets whether draggables can be dropped onto this target to\n * trigger drop events\n *\n * Dropzones can receive the following events:\n *  - `dropactivate` and `dropdeactivate` when an acceptable drag starts and ends\n *  - `dragenter` and `dragleave` when a draggable enters and leaves the dropzone\n *  - `dragmove` when a draggable that has entered the dropzone is moved\n *  - `drop` when a draggable is dropped into this dropzone\n *\n * Use the `accept` option to allow only elements that match the given CSS\n * selector or element. The value can be:\n *\n *  - **an Element** - only that element can be dropped into this dropzone.\n *  - **a string**, - the element being dragged must match it as a CSS selector.\n *  - **`null`** - accept options is cleared - it accepts any element.\n *\n * Use the `overlap` option to set how drops are checked for. The allowed\n * values are:\n *\n *   - `'pointer'`, the pointer must be over the dropzone (default)\n *   - `'center'`, the draggable element's center must be over the dropzone\n *   - a number from 0-1 which is the `(intersection area) / (draggable area)`.\n *   e.g. `0.5` for drop to happen when half of the area of the draggable is\n *   over the dropzone\n *\n * Use the `checker` option to specify a function to check if a dragged element\n * is over this Interactable.\n *\n * @param {boolean | object | null} [options] The new options to be set.\n * @return {boolean | Interactable} The current setting or this Interactable\n */\nInteractable.prototype.dropzone = function (options) {\n  if (utils.is.object(options)) {\n    this.options.drop.enabled = options.enabled === false ? false : true;\n\n    if (utils.is.function(options.ondrop)) {\n      this.events.ondrop = options.ondrop;\n    }\n    if (utils.is.function(options.ondropactivate)) {\n      this.events.ondropactivate = options.ondropactivate;\n    }\n    if (utils.is.function(options.ondropdeactivate)) {\n      this.events.ondropdeactivate = options.ondropdeactivate;\n    }\n    if (utils.is.function(options.ondragenter)) {\n      this.events.ondragenter = options.ondragenter;\n    }\n    if (utils.is.function(options.ondragleave)) {\n      this.events.ondragleave = options.ondragleave;\n    }\n    if (utils.is.function(options.ondropmove)) {\n      this.events.ondropmove = options.ondropmove;\n    }\n\n    if (/^(pointer|center)$/.test(options.overlap)) {\n      this.options.drop.overlap = options.overlap;\n    } else if (utils.is.number(options.overlap)) {\n      this.options.drop.overlap = Math.max(Math.min(1, options.overlap), 0);\n    }\n    if ('accept' in options) {\n      this.options.drop.accept = options.accept;\n    }\n    if ('checker' in options) {\n      this.options.drop.checker = options.checker;\n    }\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.drop.enabled = options;\n\n    if (!options) {\n      this.ondragenter = this.ondragleave = this.ondrop = this.ondropactivate = this.ondropdeactivate = null;\n    }\n\n    return this;\n  }\n\n  return this.options.drop;\n};\n\nInteractable.prototype.dropCheck = function (dragEvent, event, draggable, draggableElement, dropElement, rect) {\n  var dropped = false;\n\n  // if the dropzone has no rect (eg. display: none)\n  // call the custom dropChecker or just return false\n  if (!(rect = rect || this.getRect(dropElement))) {\n    return this.options.drop.checker ? this.options.drop.checker(dragEvent, event, dropped, this, dropElement, draggable, draggableElement) : false;\n  }\n\n  var dropOverlap = this.options.drop.overlap;\n\n  if (dropOverlap === 'pointer') {\n    var origin = utils.getOriginXY(draggable, draggableElement, 'drag');\n    var page = utils.getPageXY(dragEvent);\n\n    page.x += origin.x;\n    page.y += origin.y;\n\n    var horizontal = page.x > rect.left && page.x < rect.right;\n    var vertical = page.y > rect.top && page.y < rect.bottom;\n\n    dropped = horizontal && vertical;\n  }\n\n  var dragRect = draggable.getRect(draggableElement);\n\n  if (dragRect && dropOverlap === 'center') {\n    var cx = dragRect.left + dragRect.width / 2;\n    var cy = dragRect.top + dragRect.height / 2;\n\n    dropped = cx >= rect.left && cx <= rect.right && cy >= rect.top && cy <= rect.bottom;\n  }\n\n  if (dragRect && utils.is.number(dropOverlap)) {\n    var overlapArea = Math.max(0, Math.min(rect.right, dragRect.right) - Math.max(rect.left, dragRect.left)) * Math.max(0, Math.min(rect.bottom, dragRect.bottom) - Math.max(rect.top, dragRect.top));\n\n    var overlapRatio = overlapArea / (dragRect.width * dragRect.height);\n\n    dropped = overlapRatio >= dropOverlap;\n  }\n\n  if (this.options.drop.checker) {\n    dropped = this.options.drop.checker(dragEvent, event, dropped, this, dropElement, draggable, draggableElement);\n  }\n\n  return dropped;\n};\n\nInteractable.signals.on('unset', function (_ref8) {\n  var interactable = _ref8.interactable;\n\n  interactable.dropzone(false);\n});\n\nInteractable.settingsMethods.push('dropChecker');\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.dropTarget = null; // the dropzone a drag target might be dropped into\n  interaction.dropElement = null; // the element at the time of checking\n  interaction.prevDropTarget = null; // the dropzone that was recently dragged away from\n  interaction.prevDropElement = null; // the element at the time of checking\n  interaction.dropEvents = null; // the dropEvents related to the current drag event\n\n  interaction.activeDrops = {\n    dropzones: [], // the dropzones that are mentioned below\n    elements: [], // elements of dropzones that accept the target draggable\n    rects: [] // the rects of the elements mentioned above\n  };\n});\n\nInteraction.signals.on('stop', function (_ref9) {\n  var interaction = _ref9.interaction;\n\n  interaction.dropTarget = interaction.dropElement = interaction.prevDropTarget = interaction.prevDropElement = null;\n});\n\n/**\n * Returns or sets whether the dimensions of dropzone elements are calculated\n * on every dragmove or only on dragstart for the default dropChecker\n *\n * @param {boolean} [newValue] True to check on each move. False to check only\n * before start\n * @return {boolean | interact} The current setting or interact\n */\ninteract.dynamicDrop = function (newValue) {\n  if (utils.is.bool(newValue)) {\n    //if (dragging && dynamicDrop !== newValue && !newValue) {\n    //calcRects(dropzones);\n    //}\n\n    dynamicDrop = newValue;\n\n    return interact;\n  }\n  return dynamicDrop;\n};\n\nutils.merge(Interactable.eventTypes, ['dragenter', 'dragleave', 'dropactivate', 'dropdeactivate', 'dropmove', 'drop']);\nactions.methodDict.drop = 'dropzone';\n\ndefaultOptions.drop = drop.defaults;\n\nmodule.exports = drop;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../interact\":21,\"../scope\":33,\"../utils\":44,\"./base\":6}],9:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar InteractEvent = require('../InteractEvent');\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\nvar gesture = {\n  defaults: {\n    enabled: false,\n    origin: null,\n    restrict: null\n  },\n\n  checker: function checker(pointer, event, interactable, element, interaction) {\n    if (interaction.pointerIds.length >= 2) {\n      return { name: 'gesture' };\n    }\n\n    return null;\n  },\n\n  getCursor: function getCursor() {\n    return '';\n  }\n};\n\nInteractEvent.signals.on('new', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction;\n\n  if (iEvent.type !== 'gesturestart') {\n    return;\n  }\n  iEvent.ds = 0;\n\n  interaction.gesture.startDistance = interaction.gesture.prevDistance = iEvent.distance;\n  interaction.gesture.startAngle = interaction.gesture.prevAngle = iEvent.angle;\n  interaction.gesture.scale = 1;\n});\n\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      interaction = _ref2.interaction;\n\n  if (iEvent.type !== 'gesturemove') {\n    return;\n  }\n\n  iEvent.ds = iEvent.scale - interaction.gesture.scale;\n\n  interaction.target.fire(iEvent);\n\n  interaction.gesture.prevAngle = iEvent.angle;\n  interaction.gesture.prevDistance = iEvent.distance;\n\n  if (iEvent.scale !== Infinity && iEvent.scale !== null && iEvent.scale !== undefined && !isNaN(iEvent.scale)) {\n\n    interaction.gesture.scale = iEvent.scale;\n  }\n});\n\n/**\n * ```js\n * interact(element).gesturable({\n *     onstart: function (event) {},\n *     onmove : function (event) {},\n *     onend  : function (event) {},\n *\n *     // limit multiple gestures.\n *     // See the explanation in {@link Interactable.draggable} example\n *     max: Infinity,\n *     maxPerElement: 1,\n * });\n *\n * var isGestureable = interact(element).gesturable();\n * ```\n *\n * Gets or sets whether multitouch gestures can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on gesture events (makes the Interactable gesturable)\n * @return {boolean | Interactable} A boolean indicating if this can be the\n * target of gesture events, or this Interactable\n */\nInteractable.prototype.gesturable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.gesture.enabled = options.enabled === false ? false : true;\n    this.setPerAction('gesture', options);\n    this.setOnEvents('gesture', options);\n\n    return this;\n  }\n\n  if (utils.is.bool(options)) {\n    this.options.gesture.enabled = options;\n\n    if (!options) {\n      this.ongesturestart = this.ongesturestart = this.ongestureend = null;\n    }\n\n    return this;\n  }\n\n  return this.options.gesture;\n};\n\nInteractEvent.signals.on('set-delta', function (_ref3) {\n  var interaction = _ref3.interaction,\n      iEvent = _ref3.iEvent,\n      action = _ref3.action,\n      event = _ref3.event,\n      starting = _ref3.starting,\n      ending = _ref3.ending,\n      deltaSource = _ref3.deltaSource;\n\n  if (action !== 'gesture') {\n    return;\n  }\n\n  var pointers = interaction.pointers;\n\n  iEvent.touches = [pointers[0], pointers[1]];\n\n  if (starting) {\n    iEvent.distance = utils.touchDistance(pointers, deltaSource);\n    iEvent.box = utils.touchBBox(pointers);\n    iEvent.scale = 1;\n    iEvent.ds = 0;\n    iEvent.angle = utils.touchAngle(pointers, undefined, deltaSource);\n    iEvent.da = 0;\n  } else if (ending || event instanceof InteractEvent) {\n    iEvent.distance = interaction.prevEvent.distance;\n    iEvent.box = interaction.prevEvent.box;\n    iEvent.scale = interaction.prevEvent.scale;\n    iEvent.ds = iEvent.scale - 1;\n    iEvent.angle = interaction.prevEvent.angle;\n    iEvent.da = iEvent.angle - interaction.gesture.startAngle;\n  } else {\n    iEvent.distance = utils.touchDistance(pointers, deltaSource);\n    iEvent.box = utils.touchBBox(pointers);\n    iEvent.scale = iEvent.distance / interaction.gesture.startDistance;\n    iEvent.angle = utils.touchAngle(pointers, interaction.gesture.prevAngle, deltaSource);\n\n    iEvent.ds = iEvent.scale - interaction.gesture.prevScale;\n    iEvent.da = iEvent.angle - interaction.gesture.prevAngle;\n  }\n});\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.gesture = {\n    start: { x: 0, y: 0 },\n\n    startDistance: 0, // distance between two touches of touchStart\n    prevDistance: 0,\n    distance: 0,\n\n    scale: 1, // gesture.distance / gesture.startDistance\n\n    startAngle: 0, // angle of line joining two touches\n    prevAngle: 0 // angle of the previous gesture event\n  };\n});\n\nactions.gesture = gesture;\nactions.names.push('gesture');\nutils.merge(Interactable.eventTypes, ['gesturestart', 'gesturemove', 'gestureend']);\nactions.methodDict.gesture = 'gesturable';\n\ndefaultOptions.gesture = gesture.defaults;\n\nmodule.exports = gesture;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"./base\":6}],10:[function(require,module,exports){\n'use strict';\n\nvar actions = require('./base');\nvar utils = require('../utils');\nvar browser = require('../utils/browser');\nvar InteractEvent = require('../InteractEvent');\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar defaultOptions = require('../defaultOptions');\n\n// Less Precision with touch input\nvar defaultMargin = browser.supportsTouch || browser.supportsPointerEvent ? 20 : 10;\n\nvar resize = {\n  defaults: {\n    enabled: false,\n    mouseButtons: null,\n\n    origin: null,\n    snap: null,\n    restrict: null,\n    inertia: null,\n    autoScroll: null,\n\n    square: false,\n    preserveAspectRatio: false,\n    axis: 'xy',\n\n    // use default margin\n    margin: NaN,\n\n    // object with props left, right, top, bottom which are\n    // true/false values to resize when the pointer is over that edge,\n    // CSS selectors to match the handles for each direction\n    // or the Elements for each handle\n    edges: null,\n\n    // a value of 'none' will limit the resize rect to a minimum of 0x0\n    // 'negate' will alow the rect to have negative width/height\n    // 'reposition' will keep the width/height positive by swapping\n    // the top and bottom edges and/or swapping the left and right edges\n    invert: 'none'\n  },\n\n  checker: function checker(pointer, event, interactable, element, interaction, rect) {\n    if (!rect) {\n      return null;\n    }\n\n    var page = utils.extend({}, interaction.curCoords.page);\n    var options = interactable.options;\n\n    if (options.resize.enabled) {\n      var resizeOptions = options.resize;\n      var resizeEdges = { left: false, right: false, top: false, bottom: false };\n\n      // if using resize.edges\n      if (utils.is.object(resizeOptions.edges)) {\n        for (var edge in resizeEdges) {\n          resizeEdges[edge] = checkResizeEdge(edge, resizeOptions.edges[edge], page, interaction._eventTarget, element, rect, resizeOptions.margin || defaultMargin);\n        }\n\n        resizeEdges.left = resizeEdges.left && !resizeEdges.right;\n        resizeEdges.top = resizeEdges.top && !resizeEdges.bottom;\n\n        if (resizeEdges.left || resizeEdges.right || resizeEdges.top || resizeEdges.bottom) {\n          return {\n            name: 'resize',\n            edges: resizeEdges\n          };\n        }\n      } else {\n        var right = options.resize.axis !== 'y' && page.x > rect.right - defaultMargin;\n        var bottom = options.resize.axis !== 'x' && page.y > rect.bottom - defaultMargin;\n\n        if (right || bottom) {\n          return {\n            name: 'resize',\n            axes: (right ? 'x' : '') + (bottom ? 'y' : '')\n          };\n        }\n      }\n    }\n\n    return null;\n  },\n\n  cursors: browser.isIe9 ? {\n    x: 'e-resize',\n    y: 's-resize',\n    xy: 'se-resize',\n\n    top: 'n-resize',\n    left: 'w-resize',\n    bottom: 's-resize',\n    right: 'e-resize',\n    topleft: 'se-resize',\n    bottomright: 'se-resize',\n    topright: 'ne-resize',\n    bottomleft: 'ne-resize'\n  } : {\n    x: 'ew-resize',\n    y: 'ns-resize',\n    xy: 'nwse-resize',\n\n    top: 'ns-resize',\n    left: 'ew-resize',\n    bottom: 'ns-resize',\n    right: 'ew-resize',\n    topleft: 'nwse-resize',\n    bottomright: 'nwse-resize',\n    topright: 'nesw-resize',\n    bottomleft: 'nesw-resize'\n  },\n\n  getCursor: function getCursor(action) {\n    if (action.axis) {\n      return resize.cursors[action.name + action.axis];\n    } else if (action.edges) {\n      var cursorKey = '';\n      var edgeNames = ['top', 'bottom', 'left', 'right'];\n\n      for (var i = 0; i < 4; i++) {\n        if (action.edges[edgeNames[i]]) {\n          cursorKey += edgeNames[i];\n        }\n      }\n\n      return resize.cursors[cursorKey];\n    }\n  }\n};\n\n// resizestart\nInteractEvent.signals.on('new', function (_ref) {\n  var iEvent = _ref.iEvent,\n      interaction = _ref.interaction;\n\n  if (iEvent.type !== 'resizestart' || !interaction.prepared.edges) {\n    return;\n  }\n\n  var startRect = interaction.target.getRect(interaction.element);\n  var resizeOptions = interaction.target.options.resize;\n\n  /*\n   * When using the `resizable.square` or `resizable.preserveAspectRatio` options, resizing from one edge\n   * will affect another. E.g. with `resizable.square`, resizing to make the right edge larger will make\n   * the bottom edge larger by the same amount. We call these 'linked' edges. Any linked edges will depend\n   * on the active edges and the edge being interacted with.\n   */\n  if (resizeOptions.square || resizeOptions.preserveAspectRatio) {\n    var linkedEdges = utils.extend({}, interaction.prepared.edges);\n\n    linkedEdges.top = linkedEdges.top || linkedEdges.left && !linkedEdges.bottom;\n    linkedEdges.left = linkedEdges.left || linkedEdges.top && !linkedEdges.right;\n    linkedEdges.bottom = linkedEdges.bottom || linkedEdges.right && !linkedEdges.top;\n    linkedEdges.right = linkedEdges.right || linkedEdges.bottom && !linkedEdges.left;\n\n    interaction.prepared._linkedEdges = linkedEdges;\n  } else {\n    interaction.prepared._linkedEdges = null;\n  }\n\n  // if using `resizable.preserveAspectRatio` option, record aspect ratio at the start of the resize\n  if (resizeOptions.preserveAspectRatio) {\n    interaction.resizeStartAspectRatio = startRect.width / startRect.height;\n  }\n\n  interaction.resizeRects = {\n    start: startRect,\n    current: utils.extend({}, startRect),\n    inverted: utils.extend({}, startRect),\n    previous: utils.extend({}, startRect),\n    delta: {\n      left: 0, right: 0, width: 0,\n      top: 0, bottom: 0, height: 0\n    }\n  };\n\n  iEvent.rect = interaction.resizeRects.inverted;\n  iEvent.deltaRect = interaction.resizeRects.delta;\n});\n\n// resizemove\nInteractEvent.signals.on('new', function (_ref2) {\n  var iEvent = _ref2.iEvent,\n      phase = _ref2.phase,\n      interaction = _ref2.interaction;\n\n  if (phase !== 'move' || !interaction.prepared.edges) {\n    return;\n  }\n\n  var resizeOptions = interaction.target.options.resize;\n  var invert = resizeOptions.invert;\n  var invertible = invert === 'reposition' || invert === 'negate';\n\n  var edges = interaction.prepared.edges;\n\n  var start = interaction.resizeRects.start;\n  var current = interaction.resizeRects.current;\n  var inverted = interaction.resizeRects.inverted;\n  var delta = interaction.resizeRects.delta;\n  var previous = utils.extend(interaction.resizeRects.previous, inverted);\n  var originalEdges = edges;\n\n  var dx = iEvent.dx;\n  var dy = iEvent.dy;\n\n  if (resizeOptions.preserveAspectRatio || resizeOptions.square) {\n    // `resize.preserveAspectRatio` takes precedence over `resize.square`\n    var startAspectRatio = resizeOptions.preserveAspectRatio ? interaction.resizeStartAspectRatio : 1;\n\n    edges = interaction.prepared._linkedEdges;\n\n    if (originalEdges.left && originalEdges.bottom || originalEdges.right && originalEdges.top) {\n      dy = -dx / startAspectRatio;\n    } else if (originalEdges.left || originalEdges.right) {\n      dy = dx / startAspectRatio;\n    } else if (originalEdges.top || originalEdges.bottom) {\n      dx = dy * startAspectRatio;\n    }\n  }\n\n  // update the 'current' rect without modifications\n  if (edges.top) {\n    current.top += dy;\n  }\n  if (edges.bottom) {\n    current.bottom += dy;\n  }\n  if (edges.left) {\n    current.left += dx;\n  }\n  if (edges.right) {\n    current.right += dx;\n  }\n\n  if (invertible) {\n    // if invertible, copy the current rect\n    utils.extend(inverted, current);\n\n    if (invert === 'reposition') {\n      // swap edge values if necessary to keep width/height positive\n      var swap = void 0;\n\n      if (inverted.top > inverted.bottom) {\n        swap = inverted.top;\n\n        inverted.top = inverted.bottom;\n        inverted.bottom = swap;\n      }\n      if (inverted.left > inverted.right) {\n        swap = inverted.left;\n\n        inverted.left = inverted.right;\n        inverted.right = swap;\n      }\n    }\n  } else {\n    // if not invertible, restrict to minimum of 0x0 rect\n    inverted.top = Math.min(current.top, start.bottom);\n    inverted.bottom = Math.max(current.bottom, start.top);\n    inverted.left = Math.min(current.left, start.right);\n    inverted.right = Math.max(current.right, start.left);\n  }\n\n  inverted.width = inverted.right - inverted.left;\n  inverted.height = inverted.bottom - inverted.top;\n\n  for (var edge in inverted) {\n    delta[edge] = inverted[edge] - previous[edge];\n  }\n\n  iEvent.edges = interaction.prepared.edges;\n  iEvent.rect = inverted;\n  iEvent.deltaRect = delta;\n});\n\n/**\n * ```js\n * interact(element).resizable({\n *   onstart: function (event) {},\n *   onmove : function (event) {},\n *   onend  : function (event) {},\n *\n *   edges: {\n *     top   : true,       // Use pointer coords to check for resize.\n *     left  : false,      // Disable resizing from left edge.\n *     bottom: '.resize-s',// Resize if pointer target matches selector\n *     right : handleEl    // Resize if pointer target is the given Element\n *   },\n *\n *     // Width and height can be adjusted independently. When `true`, width and\n *     // height are adjusted at a 1:1 ratio.\n *     square: false,\n *\n *     // Width and height can be adjusted independently. When `true`, width and\n *     // height maintain the aspect ratio they had when resizing started.\n *     preserveAspectRatio: false,\n *\n *   // a value of 'none' will limit the resize rect to a minimum of 0x0\n *   // 'negate' will allow the rect to have negative width/height\n *   // 'reposition' will keep the width/height positive by swapping\n *   // the top and bottom edges and/or swapping the left and right edges\n *   invert: 'none' || 'negate' || 'reposition'\n *\n *   // limit multiple resizes.\n *   // See the explanation in the {@link Interactable.draggable} example\n *   max: Infinity,\n *   maxPerElement: 1,\n * });\n *\n * var isResizeable = interact(element).resizable();\n * ```\n *\n * Gets or sets whether resize actions can be performed on the target\n *\n * @param {boolean | object} [options] true/false or An object with event\n * listeners to be fired on resize events (object makes the Interactable\n * resizable)\n * @return {boolean | Interactable} A boolean indicating if this can be the\n * target of resize elements, or this Interactable\n */\nInteractable.prototype.resizable = function (options) {\n  if (utils.is.object(options)) {\n    this.options.resize.enabled = options.enabled === false ? false : true;\n    this.setPerAction('resize', options);\n    this.setOnEvents('resize', options);\n\n    if (/^x$|^y$|^xy$/.test(options.axis)) {\n      this.options.resize.axis = options.axis;\n    } else if (options.axis === null) {\n      this.options.resize.axis = defaultOptions.resize.axis;\n    }\n\n    if (utils.is.bool(options.preserveAspectRatio)) {\n      this.options.resize.preserveAspectRatio = options.preserveAspectRatio;\n    } else if (utils.is.bool(options.square)) {\n      this.options.resize.square = options.square;\n    }\n\n    return this;\n  }\n  if (utils.is.bool(options)) {\n    this.options.resize.enabled = options;\n\n    if (!options) {\n      this.onresizestart = this.onresizestart = this.onresizeend = null;\n    }\n\n    return this;\n  }\n  return this.options.resize;\n};\n\nfunction checkResizeEdge(name, value, page, element, interactableElement, rect, margin) {\n  // false, '', undefined, null\n  if (!value) {\n    return false;\n  }\n\n  // true value, use pointer coords and element rect\n  if (value === true) {\n    // if dimensions are negative, \"switch\" edges\n    var width = utils.is.number(rect.width) ? rect.width : rect.right - rect.left;\n    var height = utils.is.number(rect.height) ? rect.height : rect.bottom - rect.top;\n\n    if (width < 0) {\n      if (name === 'left') {\n        name = 'right';\n      } else if (name === 'right') {\n        name = 'left';\n      }\n    }\n    if (height < 0) {\n      if (name === 'top') {\n        name = 'bottom';\n      } else if (name === 'bottom') {\n        name = 'top';\n      }\n    }\n\n    if (name === 'left') {\n      return page.x < (width >= 0 ? rect.left : rect.right) + margin;\n    }\n    if (name === 'top') {\n      return page.y < (height >= 0 ? rect.top : rect.bottom) + margin;\n    }\n\n    if (name === 'right') {\n      return page.x > (width >= 0 ? rect.right : rect.left) - margin;\n    }\n    if (name === 'bottom') {\n      return page.y > (height >= 0 ? rect.bottom : rect.top) - margin;\n    }\n  }\n\n  // the remaining checks require an element\n  if (!utils.is.element(element)) {\n    return false;\n  }\n\n  return utils.is.element(value)\n  // the value is an element to use as a resize handle\n  ? value === element\n  // otherwise check if element matches value as selector\n  : utils.matchesUpTo(element, value, interactableElement);\n}\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.resizeAxes = 'xy';\n});\n\nInteractEvent.signals.on('set-delta', function (_ref3) {\n  var interaction = _ref3.interaction,\n      iEvent = _ref3.iEvent,\n      action = _ref3.action;\n\n  if (action !== 'resize' || !interaction.resizeAxes) {\n    return;\n  }\n\n  var options = interaction.target.options;\n\n  if (options.resize.square) {\n    if (interaction.resizeAxes === 'y') {\n      iEvent.dx = iEvent.dy;\n    } else {\n      iEvent.dy = iEvent.dx;\n    }\n    iEvent.axes = 'xy';\n  } else {\n    iEvent.axes = interaction.resizeAxes;\n\n    if (interaction.resizeAxes === 'x') {\n      iEvent.dy = 0;\n    } else if (interaction.resizeAxes === 'y') {\n      iEvent.dx = 0;\n    }\n  }\n});\n\nactions.resize = resize;\nactions.names.push('resize');\nutils.merge(Interactable.eventTypes, ['resizestart', 'resizemove', 'resizeinertiastart', 'resizeinertiaresume', 'resizeend']);\nactions.methodDict.resize = 'resizable';\n\ndefaultOptions.resize = resize.defaults;\n\nmodule.exports = resize;\n\n},{\"../InteractEvent\":3,\"../Interactable\":4,\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"../utils/browser\":36,\"./base\":6}],11:[function(require,module,exports){\n'use strict';\n\nvar raf = require('./utils/raf');\nvar getWindow = require('./utils/window').getWindow;\nvar is = require('./utils/is');\nvar domUtils = require('./utils/domUtils');\nvar Interaction = require('./Interaction');\nvar defaultOptions = require('./defaultOptions');\n\nvar autoScroll = {\n  defaults: {\n    enabled: false,\n    container: null, // the item that is scrolled (Window or HTMLElement)\n    margin: 60,\n    speed: 300 // the scroll speed in pixels per second\n  },\n\n  interaction: null,\n  i: null, // the handle returned by window.setInterval\n  x: 0, y: 0, // Direction each pulse is to scroll in\n\n  isScrolling: false,\n  prevTime: 0,\n\n  start: function start(interaction) {\n    autoScroll.isScrolling = true;\n    raf.cancel(autoScroll.i);\n\n    autoScroll.interaction = interaction;\n    autoScroll.prevTime = new Date().getTime();\n    autoScroll.i = raf.request(autoScroll.scroll);\n  },\n\n  stop: function stop() {\n    autoScroll.isScrolling = false;\n    raf.cancel(autoScroll.i);\n  },\n\n  // scroll the window by the values in scroll.x/y\n  scroll: function scroll() {\n    var options = autoScroll.interaction.target.options[autoScroll.interaction.prepared.name].autoScroll;\n    var container = options.container || getWindow(autoScroll.interaction.element);\n    var now = new Date().getTime();\n    // change in time in seconds\n    var dt = (now - autoScroll.prevTime) / 1000;\n    // displacement\n    var s = options.speed * dt;\n\n    if (s >= 1) {\n      if (is.window(container)) {\n        container.scrollBy(autoScroll.x * s, autoScroll.y * s);\n      } else if (container) {\n        container.scrollLeft += autoScroll.x * s;\n        container.scrollTop += autoScroll.y * s;\n      }\n\n      autoScroll.prevTime = now;\n    }\n\n    if (autoScroll.isScrolling) {\n      raf.cancel(autoScroll.i);\n      autoScroll.i = raf.request(autoScroll.scroll);\n    }\n  },\n  check: function check(interactable, actionName) {\n    var options = interactable.options;\n\n    return options[actionName].autoScroll && options[actionName].autoScroll.enabled;\n  },\n  onInteractionMove: function onInteractionMove(_ref) {\n    var interaction = _ref.interaction,\n        pointer = _ref.pointer;\n\n    if (!(interaction.interacting() && autoScroll.check(interaction.target, interaction.prepared.name))) {\n      return;\n    }\n\n    if (interaction.simulation) {\n      autoScroll.x = autoScroll.y = 0;\n      return;\n    }\n\n    var top = void 0;\n    var right = void 0;\n    var bottom = void 0;\n    var left = void 0;\n\n    var options = interaction.target.options[interaction.prepared.name].autoScroll;\n    var container = options.container || getWindow(interaction.element);\n\n    if (is.window(container)) {\n      left = pointer.clientX < autoScroll.margin;\n      top = pointer.clientY < autoScroll.margin;\n      right = pointer.clientX > container.innerWidth - autoScroll.margin;\n      bottom = pointer.clientY > container.innerHeight - autoScroll.margin;\n    } else {\n      var rect = domUtils.getElementClientRect(container);\n\n      left = pointer.clientX < rect.left + autoScroll.margin;\n      top = pointer.clientY < rect.top + autoScroll.margin;\n      right = pointer.clientX > rect.right - autoScroll.margin;\n      bottom = pointer.clientY > rect.bottom - autoScroll.margin;\n    }\n\n    autoScroll.x = right ? 1 : left ? -1 : 0;\n    autoScroll.y = bottom ? 1 : top ? -1 : 0;\n\n    if (!autoScroll.isScrolling) {\n      // set the autoScroll properties to those of the target\n      autoScroll.margin = options.margin;\n      autoScroll.speed = options.speed;\n\n      autoScroll.start(interaction);\n    }\n  }\n};\n\nInteraction.signals.on('stop-active', function () {\n  autoScroll.stop();\n});\n\nInteraction.signals.on('action-move', autoScroll.onInteractionMove);\n\ndefaultOptions.perAction.autoScroll = autoScroll.defaults;\n\nmodule.exports = autoScroll;\n\n},{\"./Interaction\":5,\"./defaultOptions\":18,\"./utils/domUtils\":39,\"./utils/is\":46,\"./utils/raf\":50,\"./utils/window\":52}],12:[function(require,module,exports){\n'use strict';\n\n/** @lends Interactable */\nvar Interactable = require('../Interactable');\nvar actions = require('../actions/base');\nvar is = require('../utils/is');\nvar domUtils = require('../utils/domUtils');\n\nvar _require = require('../utils'),\n    warnOnce = _require.warnOnce;\n\nInteractable.prototype.getAction = function (pointer, event, interaction, element) {\n  var action = this.defaultActionChecker(pointer, event, interaction, element);\n\n  if (this.options.actionChecker) {\n    return this.options.actionChecker(pointer, event, action, this, element, interaction);\n  }\n\n  return action;\n};\n\n/**\n * ```js\n * interact(element, { ignoreFrom: document.getElementById('no-action') });\n * // or\n * interact(element).ignoreFrom('input, textarea, a');\n * ```\n * @deprecated\n * If the target of the `mousedown`, `pointerdown` or `touchstart` event or any\n * of it's parents match the given CSS selector or Element, no\n * drag/resize/gesture is started.\n *\n * Don't use this method. Instead set the `ignoreFrom` option for each action\n * or for `pointerEvents`\n *\n * @example\n * interact(targett)\n *   .draggable({\n *     ignoreFrom: 'input, textarea, a[href]'',\n *   })\n *   .pointerEvents({\n *     ignoreFrom: '[no-pointer]',\n *   });\n *\n * @param {string | Element | null} [newValue] a CSS selector string, an\n * Element or `null` to not ignore any elements\n * @return {string | Element | object} The current ignoreFrom value or this\n * Interactable\n */\nInteractable.prototype.ignoreFrom = warnOnce(function (newValue) {\n  return this._backCompatOption('ignoreFrom', newValue);\n}, 'Interactable.ignoreForm() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue}).');\n\n/**\n * ```js\n *\n * @deprecated\n * A drag/resize/gesture is started only If the target of the `mousedown`,\n * `pointerdown` or `touchstart` event or any of it's parents match the given\n * CSS selector or Element.\n *\n * Don't use this method. Instead set the `allowFrom` option for each action\n * or for `pointerEvents`\n *\n * @example\n * interact(targett)\n *   .resizable({\n *     allowFrom: '.resize-handle',\n *   .pointerEvents({\n *     allowFrom: '.handle',,\n *   });\n *\n * @param {string | Element | null} [newValue] a CSS selector string, an\n * Element or `null` to allow from any element\n * @return {string | Element | object} The current allowFrom value or this\n * Interactable\n */\nInteractable.prototype.allowFrom = warnOnce(function (newValue) {\n  return this._backCompatOption('allowFrom', newValue);\n}, 'Interactable.allowForm() has been deprecated. Use Interactble.draggable({allowFrom: newValue}).');\n\nInteractable.prototype.testIgnore = function (ignoreFrom, interactableElement, element) {\n  if (!ignoreFrom || !is.element(element)) {\n    return false;\n  }\n\n  if (is.string(ignoreFrom)) {\n    return domUtils.matchesUpTo(element, ignoreFrom, interactableElement);\n  } else if (is.element(ignoreFrom)) {\n    return domUtils.nodeContains(ignoreFrom, element);\n  }\n\n  return false;\n};\n\nInteractable.prototype.testAllow = function (allowFrom, interactableElement, element) {\n  if (!allowFrom) {\n    return true;\n  }\n\n  if (!is.element(element)) {\n    return false;\n  }\n\n  if (is.string(allowFrom)) {\n    return domUtils.matchesUpTo(element, allowFrom, interactableElement);\n  } else if (is.element(allowFrom)) {\n    return domUtils.nodeContains(allowFrom, element);\n  }\n\n  return false;\n};\n\nInteractable.prototype.testIgnoreAllow = function (options, interactableElement, eventTarget) {\n  return !this.testIgnore(options.ignoreFrom, interactableElement, eventTarget) && this.testAllow(options.allowFrom, interactableElement, eventTarget);\n};\n\n/**\n * ```js\n * interact('.resize-drag')\n *   .resizable(true)\n *   .draggable(true)\n *   .actionChecker(function (pointer, event, action, interactable, element, interaction) {\n *\n *   if (interact.matchesSelector(event.target, '.drag-handle') {\n *     // force drag with handle target\n *     action.name = drag;\n *   }\n *   else {\n *     // resize from the top and right edges\n *     action.name  = 'resize';\n *     action.edges = { top: true, right: true };\n *   }\n *\n *   return action;\n * });\n * ```\n *\n * Gets or sets the function used to check action to be performed on\n * pointerDown\n *\n * @param {function | null} [checker] A function which takes a pointer event,\n * defaultAction string, interactable, element and interaction as parameters\n * and returns an object with name property 'drag' 'resize' or 'gesture' and\n * optionally an `edges` object with boolean 'top', 'left', 'bottom' and right\n * props.\n * @return {Function | Interactable} The checker function or this Interactable\n */\nInteractable.prototype.actionChecker = function (checker) {\n  if (is.function(checker)) {\n    this.options.actionChecker = checker;\n\n    return this;\n  }\n\n  if (checker === null) {\n    delete this.options.actionChecker;\n\n    return this;\n  }\n\n  return this.options.actionChecker;\n};\n\n/**\n * Returns or sets whether the the cursor should be changed depending on the\n * action that would be performed if the mouse were pressed and dragged.\n *\n * @param {boolean} [newValue]\n * @return {boolean | Interactable} The current setting or this Interactable\n */\nInteractable.prototype.styleCursor = function (newValue) {\n  if (is.bool(newValue)) {\n    this.options.styleCursor = newValue;\n\n    return this;\n  }\n\n  if (newValue === null) {\n    delete this.options.styleCursor;\n\n    return this;\n  }\n\n  return this.options.styleCursor;\n};\n\nInteractable.prototype.defaultActionChecker = function (pointer, event, interaction, element) {\n  var rect = this.getRect(element);\n  var buttons = event.buttons || {\n    0: 1,\n    1: 4,\n    3: 8,\n    4: 16\n  }[event.button];\n  var action = null;\n\n  for (var _i = 0; _i < actions.names.length; _i++) {\n    var _ref;\n\n    _ref = actions.names[_i];\n    var actionName = _ref;\n\n    // check mouseButton setting if the pointer is down\n    if (interaction.pointerIsDown && /mouse|pointer/.test(interaction.pointerType) && (buttons & this.options[actionName].mouseButtons) === 0) {\n      continue;\n    }\n\n    action = actions[actionName].checker(pointer, event, this, element, interaction, rect);\n\n    if (action) {\n      return action;\n    }\n  }\n};\n\n},{\"../Interactable\":4,\"../actions/base\":6,\"../utils\":44,\"../utils/domUtils\":39,\"../utils/is\":46}],13:[function(require,module,exports){\n'use strict';\n\nvar interact = require('../interact');\nvar Interactable = require('../Interactable');\nvar Interaction = require('../Interaction');\nvar actions = require('../actions/base');\nvar defaultOptions = require('../defaultOptions');\nvar scope = require('../scope');\nvar utils = require('../utils');\nvar signals = require('../utils/Signals').new();\n\nrequire('./InteractableMethods');\n\nvar autoStart = {\n  signals: signals,\n  withinInteractionLimit: withinInteractionLimit,\n  // Allow this many interactions to happen simultaneously\n  maxInteractions: Infinity,\n  defaults: {\n    perAction: {\n      manualStart: false,\n      max: Infinity,\n      maxPerElement: 1,\n      allowFrom: null,\n      ignoreFrom: null,\n\n      // only allow left button by default\n      // see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons#Return_value\n      mouseButtons: 1\n    }\n  },\n  setActionDefaults: function setActionDefaults(action) {\n    utils.extend(action.defaults, autoStart.defaults.perAction);\n  },\n  validateAction: validateAction\n};\n\n// set cursor style on mousedown\nInteraction.signals.on('down', function (_ref) {\n  var interaction = _ref.interaction,\n      pointer = _ref.pointer,\n      event = _ref.event,\n      eventTarget = _ref.eventTarget;\n\n  if (interaction.interacting()) {\n    return;\n  }\n\n  var actionInfo = getActionInfo(interaction, pointer, event, eventTarget);\n  prepare(interaction, actionInfo);\n});\n\n// set cursor style on mousemove\nInteraction.signals.on('move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      pointer = _ref2.pointer,\n      event = _ref2.event,\n      eventTarget = _ref2.eventTarget;\n\n  if (interaction.pointerType !== 'mouse' || interaction.pointerIsDown || interaction.interacting()) {\n    return;\n  }\n\n  var actionInfo = getActionInfo(interaction, pointer, event, eventTarget);\n  prepare(interaction, actionInfo);\n});\n\nInteraction.signals.on('move', function (arg) {\n  var interaction = arg.interaction,\n      event = arg.event;\n\n\n  if (!interaction.pointerIsDown || interaction.interacting() || !interaction.pointerWasMoved || !interaction.prepared.name) {\n    return;\n  }\n\n  signals.fire('before-start', arg);\n\n  var target = interaction.target;\n\n  if (interaction.prepared.name && target) {\n    // check manualStart and interaction limit\n    if (target.options[interaction.prepared.name].manualStart || !withinInteractionLimit(target, interaction.element, interaction.prepared)) {\n      interaction.stop(event);\n    } else {\n      interaction.start(interaction.prepared, target, interaction.element);\n    }\n  }\n});\n\n// Check if the current target supports the action.\n// If so, return the validated action. Otherwise, return null\nfunction validateAction(action, interactable, element, eventTarget) {\n  if (utils.is.object(action) && interactable.testIgnoreAllow(interactable.options[action.name], element, eventTarget) && interactable.options[action.name].enabled && withinInteractionLimit(interactable, element, action)) {\n    return action;\n  }\n\n  return null;\n}\n\nfunction validateSelector(interaction, pointer, event, matches, matchElements, eventTarget) {\n  for (var i = 0, len = matches.length; i < len; i++) {\n    var match = matches[i];\n    var matchElement = matchElements[i];\n    var action = validateAction(match.getAction(pointer, event, interaction, matchElement), match, matchElement, eventTarget);\n\n    if (action) {\n      return {\n        action: action,\n        target: match,\n        element: matchElement\n      };\n    }\n  }\n\n  return {};\n}\n\nfunction getActionInfo(interaction, pointer, event, eventTarget) {\n  var matches = [];\n  var matchElements = [];\n\n  var element = eventTarget;\n\n  function pushMatches(interactable) {\n    matches.push(interactable);\n    matchElements.push(element);\n  }\n\n  while (utils.is.element(element)) {\n    matches = [];\n    matchElements = [];\n\n    scope.interactables.forEachMatch(element, pushMatches);\n\n    var actionInfo = validateSelector(interaction, pointer, event, matches, matchElements, eventTarget);\n\n    if (actionInfo.action && !actionInfo.target.options[actionInfo.action.name].manualStart) {\n      return actionInfo;\n    }\n\n    element = utils.parentNode(element);\n  }\n\n  return {};\n}\n\nfunction prepare(interaction, _ref3) {\n  var action = _ref3.action,\n      target = _ref3.target,\n      element = _ref3.element;\n\n  action = action || {};\n\n  if (interaction.target && interaction.target.options.styleCursor) {\n    interaction.target._doc.documentElement.style.cursor = '';\n  }\n\n  interaction.target = target;\n  interaction.element = element;\n  utils.copyAction(interaction.prepared, action);\n\n  if (target && target.options.styleCursor) {\n    var cursor = action ? actions[action.name].getCursor(action) : '';\n    interaction.target._doc.documentElement.style.cursor = cursor;\n  }\n\n  signals.fire('prepared', { interaction: interaction });\n}\n\nInteraction.signals.on('stop', function (_ref4) {\n  var interaction = _ref4.interaction;\n\n  var target = interaction.target;\n\n  if (target && target.options.styleCursor) {\n    target._doc.documentElement.style.cursor = '';\n  }\n});\n\nfunction withinInteractionLimit(interactable, element, action) {\n  var options = interactable.options;\n  var maxActions = options[action.name].max;\n  var maxPerElement = options[action.name].maxPerElement;\n  var activeInteractions = 0;\n  var targetCount = 0;\n  var targetElementCount = 0;\n\n  // no actions if any of these values == 0\n  if (!(maxActions && maxPerElement && autoStart.maxInteractions)) {\n    return;\n  }\n\n  for (var _i = 0; _i < scope.interactions.length; _i++) {\n    var _ref5;\n\n    _ref5 = scope.interactions[_i];\n    var interaction = _ref5;\n\n    var otherAction = interaction.prepared.name;\n\n    if (!interaction.interacting()) {\n      continue;\n    }\n\n    activeInteractions++;\n\n    if (activeInteractions >= autoStart.maxInteractions) {\n      return false;\n    }\n\n    if (interaction.target !== interactable) {\n      continue;\n    }\n\n    targetCount += otherAction === action.name | 0;\n\n    if (targetCount >= maxActions) {\n      return false;\n    }\n\n    if (interaction.element === element) {\n      targetElementCount++;\n\n      if (otherAction !== action.name || targetElementCount >= maxPerElement) {\n        return false;\n      }\n    }\n  }\n\n  return autoStart.maxInteractions > 0;\n}\n\n/**\n * Returns or sets the maximum number of concurrent interactions allowed.  By\n * default only 1 interaction is allowed at a time (for backwards\n * compatibility). To allow multiple interactions on the same Interactables and\n * elements, you need to enable it in the draggable, resizable and gesturable\n * `'max'` and `'maxPerElement'` options.\n *\n * @alias module:interact.maxInteractions\n *\n * @param {number} [newValue] Any number. newValue <= 0 means no interactions.\n */\ninteract.maxInteractions = function (newValue) {\n  if (utils.is.number(newValue)) {\n    autoStart.maxInteractions = newValue;\n\n    return interact;\n  }\n\n  return autoStart.maxInteractions;\n};\n\nInteractable.settingsMethods.push('styleCursor');\nInteractable.settingsMethods.push('actionChecker');\nInteractable.settingsMethods.push('ignoreFrom');\nInteractable.settingsMethods.push('allowFrom');\n\ndefaultOptions.base.actionChecker = null;\ndefaultOptions.base.styleCursor = true;\n\nutils.extend(defaultOptions.perAction, autoStart.defaults.perAction);\n\nmodule.exports = autoStart;\n\n},{\"../Interactable\":4,\"../Interaction\":5,\"../actions/base\":6,\"../defaultOptions\":18,\"../interact\":21,\"../scope\":33,\"../utils\":44,\"../utils/Signals\":34,\"./InteractableMethods\":12}],14:[function(require,module,exports){\n'use strict';\n\nvar autoStart = require('./base');\nvar scope = require('../scope');\nvar is = require('../utils/is');\n\nvar _require = require('../utils/domUtils'),\n    parentNode = _require.parentNode;\n\nautoStart.setActionDefaults(require('../actions/drag'));\n\nautoStart.signals.on('before-start', function (_ref) {\n  var interaction = _ref.interaction,\n      eventTarget = _ref.eventTarget,\n      dx = _ref.dx,\n      dy = _ref.dy;\n\n  if (interaction.prepared.name !== 'drag') {\n    return;\n  }\n\n  // check if a drag is in the correct axis\n  var absX = Math.abs(dx);\n  var absY = Math.abs(dy);\n  var targetOptions = interaction.target.options.drag;\n  var startAxis = targetOptions.startAxis;\n  var currentAxis = absX > absY ? 'x' : absX < absY ? 'y' : 'xy';\n\n  interaction.prepared.axis = targetOptions.lockAxis === 'start' ? currentAxis[0] // always lock to one axis even if currentAxis === 'xy'\n  : targetOptions.lockAxis;\n\n  // if the movement isn't in the startAxis of the interactable\n  if (currentAxis !== 'xy' && startAxis !== 'xy' && startAxis !== currentAxis) {\n    // cancel the prepared action\n    interaction.prepared.name = null;\n\n    // then try to get a drag from another ineractable\n    var element = eventTarget;\n\n    var getDraggable = function getDraggable(interactable) {\n      if (interactable === interaction.target) {\n        return;\n      }\n\n      var options = interaction.target.options.drag;\n\n      if (!options.manualStart && interactable.testIgnoreAllow(options, element, eventTarget)) {\n\n        var action = interactable.getAction(interaction.downPointer, interaction.downEvent, interaction, element);\n\n        if (action && action.name === 'drag' && checkStartAxis(currentAxis, interactable) && autoStart.validateAction(action, interactable, element, eventTarget)) {\n\n          return interactable;\n        }\n      }\n    };\n\n    // check all interactables\n    while (is.element(element)) {\n      var interactable = scope.interactables.forEachMatch(element, getDraggable);\n\n      if (interactable) {\n        interaction.prepared.name = 'drag';\n        interaction.target = interactable;\n        interaction.element = element;\n        break;\n      }\n\n      element = parentNode(element);\n    }\n  }\n});\n\nfunction checkStartAxis(startAxis, interactable) {\n  if (!interactable) {\n    return false;\n  }\n\n  var thisAxis = interactable.options.drag.startAxis;\n\n  return startAxis === 'xy' || thisAxis === 'xy' || thisAxis === startAxis;\n}\n\n},{\"../actions/drag\":7,\"../scope\":33,\"../utils/domUtils\":39,\"../utils/is\":46,\"./base\":13}],15:[function(require,module,exports){\n'use strict';\n\nrequire('./base').setActionDefaults(require('../actions/gesture'));\n\n},{\"../actions/gesture\":9,\"./base\":13}],16:[function(require,module,exports){\n'use strict';\n\nvar autoStart = require('./base');\nvar Interaction = require('../Interaction');\n\nautoStart.defaults.perAction.hold = 0;\nautoStart.defaults.perAction.delay = 0;\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.autoStartHoldTimer = null;\n});\n\nautoStart.signals.on('prepared', function (_ref) {\n  var interaction = _ref.interaction;\n\n  var hold = getHoldDuration(interaction);\n\n  if (hold > 0) {\n    interaction.autoStartHoldTimer = setTimeout(function () {\n      interaction.start(interaction.prepared, interaction.target, interaction.element);\n    }, hold);\n  }\n});\n\nInteraction.signals.on('move', function (_ref2) {\n  var interaction = _ref2.interaction,\n      duplicate = _ref2.duplicate;\n\n  if (interaction.pointerWasMoved && !duplicate) {\n    clearTimeout(interaction.autoStartHoldTimer);\n  }\n});\n\n// prevent regular down->move autoStart\nautoStart.signals.on('before-start', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  var hold = getHoldDuration(interaction);\n\n  if (hold > 0) {\n    interaction.prepared.name = null;\n  }\n});\n\nfunction getHoldDuration(interaction) {\n  var actionName = interaction.prepared && interaction.prepared.name;\n\n  if (!actionName) {\n    return null;\n  }\n\n  var options = interaction.target.options;\n\n  return options[actionName].hold || options[actionName].delay;\n}\n\nmodule.exports = {\n  getHoldDuration: getHoldDuration\n};\n\n},{\"../Interaction\":5,\"./base\":13}],17:[function(require,module,exports){\n'use strict';\n\nrequire('./base').setActionDefaults(require('../actions/resize'));\n\n},{\"../actions/resize\":10,\"./base\":13}],18:[function(require,module,exports){\n'use strict';\n\nmodule.exports = {\n  base: {\n    accept: null,\n    preventDefault: 'auto',\n    deltaSource: 'page'\n  },\n\n  perAction: {\n    origin: { x: 0, y: 0 },\n\n    inertia: {\n      enabled: false,\n      resistance: 10, // the lambda in exponential decay\n      minSpeed: 100, // target speed must be above this for inertia to start\n      endSpeed: 10, // the speed at which inertia is slow enough to stop\n      allowResume: true, // allow resuming an action in inertia phase\n      smoothEndDuration: 300 // animate to snap/restrict endOnly if there's no inertia\n    }\n  }\n};\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\n/* browser entry point */\n\n// inertia\nrequire('./inertia');\n\n// modifiers\nrequire('./modifiers/snap');\nrequire('./modifiers/restrict');\n\n// pointerEvents\nrequire('./pointerEvents/base');\nrequire('./pointerEvents/holdRepeat');\nrequire('./pointerEvents/interactableTargets');\n\n// autoStart hold\nrequire('./autoStart/hold');\n\n// actions\nrequire('./actions/gesture');\nrequire('./actions/resize');\nrequire('./actions/drag');\nrequire('./actions/drop');\n\n// load these modifiers after resize is loaded\nrequire('./modifiers/snapSize');\nrequire('./modifiers/restrictEdges');\nrequire('./modifiers/restrictSize');\n\n// autoStart actions\nrequire('./autoStart/gesture');\nrequire('./autoStart/resize');\nrequire('./autoStart/drag');\n\n// Interactable preventDefault setting\nrequire('./interactablePreventDefault.js');\n\n// autoScroll\nrequire('./autoScroll');\n\n// export interact\nmodule.exports = require('./interact');\n\n},{\"./actions/drag\":7,\"./actions/drop\":8,\"./actions/gesture\":9,\"./actions/resize\":10,\"./autoScroll\":11,\"./autoStart/drag\":14,\"./autoStart/gesture\":15,\"./autoStart/hold\":16,\"./autoStart/resize\":17,\"./inertia\":20,\"./interact\":21,\"./interactablePreventDefault.js\":22,\"./modifiers/restrict\":24,\"./modifiers/restrictEdges\":25,\"./modifiers/restrictSize\":26,\"./modifiers/snap\":27,\"./modifiers/snapSize\":28,\"./pointerEvents/base\":30,\"./pointerEvents/holdRepeat\":31,\"./pointerEvents/interactableTargets\":32}],20:[function(require,module,exports){\n'use strict';\n\nvar InteractEvent = require('./InteractEvent');\nvar Interaction = require('./Interaction');\nvar modifiers = require('./modifiers/base');\nvar utils = require('./utils');\nvar animationFrame = require('./utils/raf');\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.inertiaStatus = {\n    active: false,\n    smoothEnd: false,\n    allowResume: false,\n\n    startEvent: null,\n    upCoords: {},\n\n    xe: 0, ye: 0,\n    sx: 0, sy: 0,\n\n    t0: 0,\n    vx0: 0, vys: 0,\n    duration: 0,\n\n    lambda_v0: 0,\n    one_ve_v0: 0,\n    i: null\n  };\n\n  interaction.boundInertiaFrame = function () {\n    return inertiaFrame.apply(interaction);\n  };\n  interaction.boundSmoothEndFrame = function () {\n    return smoothEndFrame.apply(interaction);\n  };\n});\n\nInteraction.signals.on('down', function (_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event,\n      pointer = _ref.pointer,\n      eventTarget = _ref.eventTarget;\n\n  var status = interaction.inertiaStatus;\n\n  // Check if the down event hits the current inertia target\n  if (status.active) {\n    var element = eventTarget;\n\n    // climb up the DOM tree from the event target\n    while (utils.is.element(element)) {\n\n      // if interaction element is the current inertia target element\n      if (element === interaction.element) {\n        // stop inertia\n        animationFrame.cancel(status.i);\n        status.active = false;\n        interaction.simulation = null;\n\n        // update pointers to the down event's coordinates\n        interaction.updatePointer(pointer);\n        utils.setCoords(interaction.curCoords, interaction.pointers);\n\n        // fire appropriate signals\n        var signalArg = { interaction: interaction };\n        Interaction.signals.fire('before-action-move', signalArg);\n        Interaction.signals.fire('action-resume', signalArg);\n\n        // fire a reume event\n        var resumeEvent = new InteractEvent(interaction, event, interaction.prepared.name, 'inertiaresume', interaction.element);\n\n        interaction.target.fire(resumeEvent);\n        interaction.prevEvent = resumeEvent;\n        modifiers.resetStatuses(interaction.modifierStatuses);\n\n        utils.copyCoords(interaction.prevCoords, interaction.curCoords);\n        break;\n      }\n\n      element = utils.parentNode(element);\n    }\n  }\n});\n\nInteraction.signals.on('up', function (_ref2) {\n  var interaction = _ref2.interaction,\n      event = _ref2.event;\n\n  var status = interaction.inertiaStatus;\n\n  if (!interaction.interacting() || status.active) {\n    return;\n  }\n\n  var target = interaction.target;\n  var options = target && target.options;\n  var inertiaOptions = options && interaction.prepared.name && options[interaction.prepared.name].inertia;\n\n  var now = new Date().getTime();\n  var statuses = {};\n  var page = utils.extend({}, interaction.curCoords.page);\n  var pointerSpeed = interaction.pointerDelta.client.speed;\n\n  var smoothEnd = false;\n  var modifierResult = void 0;\n\n  // check if inertia should be started\n  var inertiaPossible = inertiaOptions && inertiaOptions.enabled && interaction.prepared.name !== 'gesture' && event !== status.startEvent;\n\n  var inertia = inertiaPossible && now - interaction.curCoords.timeStamp < 50 && pointerSpeed > inertiaOptions.minSpeed && pointerSpeed > inertiaOptions.endSpeed;\n\n  var modifierArg = {\n    interaction: interaction,\n    pageCoords: page,\n    statuses: statuses,\n    preEnd: true,\n    requireEndOnly: true\n  };\n\n  // smoothEnd\n  if (inertiaPossible && !inertia) {\n    modifiers.resetStatuses(statuses);\n\n    modifierResult = modifiers.setAll(modifierArg);\n\n    if (modifierResult.shouldMove && modifierResult.locked) {\n      smoothEnd = true;\n    }\n  }\n\n  if (!(inertia || smoothEnd)) {\n    return;\n  }\n\n  utils.copyCoords(status.upCoords, interaction.curCoords);\n\n  interaction.pointers[0] = status.startEvent = new InteractEvent(interaction, event, interaction.prepared.name, 'inertiastart', interaction.element);\n\n  status.t0 = now;\n\n  status.active = true;\n  status.allowResume = inertiaOptions.allowResume;\n  interaction.simulation = status;\n\n  target.fire(status.startEvent);\n\n  if (inertia) {\n    status.vx0 = interaction.pointerDelta.client.vx;\n    status.vy0 = interaction.pointerDelta.client.vy;\n    status.v0 = pointerSpeed;\n\n    calcInertia(interaction, status);\n\n    utils.extend(page, interaction.curCoords.page);\n\n    page.x += status.xe;\n    page.y += status.ye;\n\n    modifiers.resetStatuses(statuses);\n\n    modifierResult = modifiers.setAll(modifierArg);\n\n    status.modifiedXe += modifierResult.dx;\n    status.modifiedYe += modifierResult.dy;\n\n    status.i = animationFrame.request(interaction.boundInertiaFrame);\n  } else {\n    status.smoothEnd = true;\n    status.xe = modifierResult.dx;\n    status.ye = modifierResult.dy;\n\n    status.sx = status.sy = 0;\n\n    status.i = animationFrame.request(interaction.boundSmoothEndFrame);\n  }\n});\n\nInteraction.signals.on('stop-active', function (_ref3) {\n  var interaction = _ref3.interaction;\n\n  var status = interaction.inertiaStatus;\n\n  if (status.active) {\n    animationFrame.cancel(status.i);\n    status.active = false;\n    interaction.simulation = null;\n  }\n});\n\nfunction calcInertia(interaction, status) {\n  var inertiaOptions = interaction.target.options[interaction.prepared.name].inertia;\n  var lambda = inertiaOptions.resistance;\n  var inertiaDur = -Math.log(inertiaOptions.endSpeed / status.v0) / lambda;\n\n  status.x0 = interaction.prevEvent.pageX;\n  status.y0 = interaction.prevEvent.pageY;\n  status.t0 = status.startEvent.timeStamp / 1000;\n  status.sx = status.sy = 0;\n\n  status.modifiedXe = status.xe = (status.vx0 - inertiaDur) / lambda;\n  status.modifiedYe = status.ye = (status.vy0 - inertiaDur) / lambda;\n  status.te = inertiaDur;\n\n  status.lambda_v0 = lambda / status.v0;\n  status.one_ve_v0 = 1 - inertiaOptions.endSpeed / status.v0;\n}\n\nfunction inertiaFrame() {\n  updateInertiaCoords(this);\n  utils.setCoordDeltas(this.pointerDelta, this.prevCoords, this.curCoords);\n\n  var status = this.inertiaStatus;\n  var options = this.target.options[this.prepared.name].inertia;\n  var lambda = options.resistance;\n  var t = new Date().getTime() / 1000 - status.t0;\n\n  if (t < status.te) {\n\n    var progress = 1 - (Math.exp(-lambda * t) - status.lambda_v0) / status.one_ve_v0;\n\n    if (status.modifiedXe === status.xe && status.modifiedYe === status.ye) {\n      status.sx = status.xe * progress;\n      status.sy = status.ye * progress;\n    } else {\n      var quadPoint = utils.getQuadraticCurvePoint(0, 0, status.xe, status.ye, status.modifiedXe, status.modifiedYe, progress);\n\n      status.sx = quadPoint.x;\n      status.sy = quadPoint.y;\n    }\n\n    this.doMove();\n\n    status.i = animationFrame.request(this.boundInertiaFrame);\n  } else {\n    status.sx = status.modifiedXe;\n    status.sy = status.modifiedYe;\n\n    this.doMove();\n    this.end(status.startEvent);\n    status.active = false;\n    this.simulation = null;\n  }\n\n  utils.copyCoords(this.prevCoords, this.curCoords);\n}\n\nfunction smoothEndFrame() {\n  updateInertiaCoords(this);\n\n  var status = this.inertiaStatus;\n  var t = new Date().getTime() - status.t0;\n  var duration = this.target.options[this.prepared.name].inertia.smoothEndDuration;\n\n  if (t < duration) {\n    status.sx = utils.easeOutQuad(t, 0, status.xe, duration);\n    status.sy = utils.easeOutQuad(t, 0, status.ye, duration);\n\n    this.pointerMove(status.startEvent, status.startEvent);\n\n    status.i = animationFrame.request(this.boundSmoothEndFrame);\n  } else {\n    status.sx = status.xe;\n    status.sy = status.ye;\n\n    this.pointerMove(status.startEvent, status.startEvent);\n    this.end(status.startEvent);\n\n    status.smoothEnd = status.active = false;\n    this.simulation = null;\n  }\n}\n\nfunction updateInertiaCoords(interaction) {\n  var status = interaction.inertiaStatus;\n\n  // return if inertia isn't running\n  if (!status.active) {\n    return;\n  }\n\n  var pageUp = status.upCoords.page;\n  var clientUp = status.upCoords.client;\n\n  utils.setCoords(interaction.curCoords, [{\n    pageX: pageUp.x + status.sx,\n    pageY: pageUp.y + status.sy,\n    clientX: clientUp.x + status.sx,\n    clientY: clientUp.y + status.sy\n  }]);\n}\n\n},{\"./InteractEvent\":3,\"./Interaction\":5,\"./modifiers/base\":23,\"./utils\":44,\"./utils/raf\":50}],21:[function(require,module,exports){\n'use strict';\n\n/** @module interact */\n\nvar browser = require('./utils/browser');\nvar events = require('./utils/events');\nvar utils = require('./utils');\nvar scope = require('./scope');\nvar Interactable = require('./Interactable');\nvar Interaction = require('./Interaction');\n\nvar globalEvents = {};\n\n/**\n * ```js\n * interact('#draggable').draggable(true);\n *\n * var rectables = interact('rect');\n * rectables\n *   .gesturable(true)\n *   .on('gesturemove', function (event) {\n *       // ...\n *   });\n * ```\n *\n * The methods of this variable can be used to set elements as interactables\n * and also to change various default settings.\n *\n * Calling it as a function and passing an element or a valid CSS selector\n * string returns an Interactable object which has various methods to configure\n * it.\n *\n * @global\n *\n * @param {Element | string} element The HTML or SVG Element to interact with\n * or CSS selector\n * @return {Interactable}\n */\nfunction interact(element, options) {\n  var interactable = scope.interactables.get(element, options);\n\n  if (!interactable) {\n    interactable = new Interactable(element, options);\n    interactable.events.global = globalEvents;\n  }\n\n  return interactable;\n}\n\n/**\n * Check if an element or selector has been set with the {@link interact}\n * function\n *\n * @alias module:interact.isSet\n *\n * @param {Element} element The Element being searched for\n * @return {boolean} Indicates if the element or CSS selector was previously\n * passed to interact\n*/\ninteract.isSet = function (element, options) {\n  return scope.interactables.indexOfElement(element, options && options.context) !== -1;\n};\n\n/**\n * Add a global listener for an InteractEvent or adds a DOM event to `document`\n *\n * @alias module:interact.on\n *\n * @param {string | array | object} type The types of events to listen for\n * @param {function} listener The function event (s)\n * @param {object | boolean} [options] object or useCapture flag for\n * addEventListener\n * @return {object} interact\n */\ninteract.on = function (type, listener, options) {\n  if (utils.is.string(type) && type.search(' ') !== -1) {\n    type = type.trim().split(/ +/);\n  }\n\n  if (utils.is.array(type)) {\n    for (var _i = 0; _i < type.length; _i++) {\n      var _ref;\n\n      _ref = type[_i];\n      var eventType = _ref;\n\n      interact.on(eventType, listener, options);\n    }\n\n    return interact;\n  }\n\n  if (utils.is.object(type)) {\n    for (var prop in type) {\n      interact.on(prop, type[prop], listener);\n    }\n\n    return interact;\n  }\n\n  // if it is an InteractEvent type, add listener to globalEvents\n  if (utils.contains(Interactable.eventTypes, type)) {\n    // if this type of event was never bound\n    if (!globalEvents[type]) {\n      globalEvents[type] = [listener];\n    } else {\n      globalEvents[type].push(listener);\n    }\n  }\n  // If non InteractEvent type, addEventListener to document\n  else {\n      events.add(scope.document, type, listener, { options: options });\n    }\n\n  return interact;\n};\n\n/**\n * Removes a global InteractEvent listener or DOM event from `document`\n *\n * @alias module:interact.off\n *\n * @param {string | array | object} type The types of events that were listened\n * for\n * @param {function} listener The listener function to be removed\n * @param {object | boolean} options [options] object or useCapture flag for\n * removeEventListener\n * @return {object} interact\n */\ninteract.off = function (type, listener, options) {\n  if (utils.is.string(type) && type.search(' ') !== -1) {\n    type = type.trim().split(/ +/);\n  }\n\n  if (utils.is.array(type)) {\n    for (var _i2 = 0; _i2 < type.length; _i2++) {\n      var _ref2;\n\n      _ref2 = type[_i2];\n      var eventType = _ref2;\n\n      interact.off(eventType, listener, options);\n    }\n\n    return interact;\n  }\n\n  if (utils.is.object(type)) {\n    for (var prop in type) {\n      interact.off(prop, type[prop], listener);\n    }\n\n    return interact;\n  }\n\n  if (!utils.contains(Interactable.eventTypes, type)) {\n    events.remove(scope.document, type, listener, options);\n  } else {\n    var index = void 0;\n\n    if (type in globalEvents && (index = globalEvents[type].indexOf(listener)) !== -1) {\n      globalEvents[type].splice(index, 1);\n    }\n  }\n\n  return interact;\n};\n\n/**\n * Returns an object which exposes internal data\n\n * @alias module:interact.debug\n *\n * @return {object} An object with properties that outline the current state\n * and expose internal functions and variables\n */\ninteract.debug = function () {\n  return scope;\n};\n\n// expose the functions used to calculate multi-touch properties\ninteract.getPointerAverage = utils.pointerAverage;\ninteract.getTouchBBox = utils.touchBBox;\ninteract.getTouchDistance = utils.touchDistance;\ninteract.getTouchAngle = utils.touchAngle;\n\ninteract.getElementRect = utils.getElementRect;\ninteract.getElementClientRect = utils.getElementClientRect;\ninteract.matchesSelector = utils.matchesSelector;\ninteract.closest = utils.closest;\n\n/**\n * @alias module:interact.supportsTouch\n *\n * @return {boolean} Whether or not the browser supports touch input\n */\ninteract.supportsTouch = function () {\n  return browser.supportsTouch;\n};\n\n/**\n * @alias module:interact.supportsPointerEvent\n *\n * @return {boolean} Whether or not the browser supports PointerEvents\n */\ninteract.supportsPointerEvent = function () {\n  return browser.supportsPointerEvent;\n};\n\n/**\n * Cancels all interactions (end events are not fired)\n *\n * @alias module:interact.stop\n *\n * @param {Event} event An event on which to call preventDefault()\n * @return {object} interact\n */\ninteract.stop = function (event) {\n  for (var i = scope.interactions.length - 1; i >= 0; i--) {\n    scope.interactions[i].stop(event);\n  }\n\n  return interact;\n};\n\n/**\n * Returns or sets the distance the pointer must be moved before an action\n * sequence occurs. This also affects tolerance for tap events.\n *\n * @alias module:interact.pointerMoveTolerance\n *\n * @param {number} [newValue] The movement from the start position must be greater than this value\n * @return {interact | number}\n */\ninteract.pointerMoveTolerance = function (newValue) {\n  if (utils.is.number(newValue)) {\n    Interaction.pointerMoveTolerance = newValue;\n\n    return interact;\n  }\n\n  return Interaction.pointerMoveTolerance;\n};\n\ninteract.addDocument = scope.addDocument;\ninteract.removeDocument = scope.removeDocument;\n\nscope.interact = interact;\n\nmodule.exports = interact;\n\n},{\"./Interactable\":4,\"./Interaction\":5,\"./scope\":33,\"./utils\":44,\"./utils/browser\":36,\"./utils/events\":40}],22:[function(require,module,exports){\n'use strict';\n\nvar Interactable = require('./Interactable');\nvar Interaction = require('./Interaction');\nvar scope = require('./scope');\nvar is = require('./utils/is');\nvar events = require('./utils/events');\nvar browser = require('./utils/browser');\n\nvar _require = require('./utils/domUtils'),\n    nodeContains = _require.nodeContains,\n    matchesSelector = _require.matchesSelector;\n\n/**\n * Returns or sets whether to prevent the browser's default behaviour in\n * response to pointer events. Can be set to:\n *  - `'always'` to always prevent\n *  - `'never'` to never prevent\n *  - `'auto'` to let interact.js try to determine what would be best\n *\n * @param {string} [newValue] `true`, `false` or `'auto'`\n * @return {string | Interactable} The current setting or this Interactable\n */\n\n\nInteractable.prototype.preventDefault = function (newValue) {\n  if (/^(always|never|auto)$/.test(newValue)) {\n    this.options.preventDefault = newValue;\n    return this;\n  }\n\n  if (is.bool(newValue)) {\n    this.options.preventDefault = newValue ? 'always' : 'never';\n    return this;\n  }\n\n  return this.options.preventDefault;\n};\n\nInteractable.prototype.checkAndPreventDefault = function (event) {\n  var setting = this.options.preventDefault;\n\n  if (setting === 'never') {\n    return;\n  }\n\n  if (setting === 'always') {\n    event.preventDefault();\n    return;\n  }\n\n  // setting === 'auto'\n\n  // don't preventDefault of touch{start,move} events if the browser supports passive\n  // events listeners. CSS touch-action and user-selecct should be used instead\n  if (events.supportsPassive && /^touch(start|move)$/.test(event.type) && !browser.isIOS) {\n    return;\n  }\n\n  // don't preventDefault of pointerdown events\n  if (/^(mouse|pointer|touch)*(down|start)/i.test(event.type)) {\n    return;\n  }\n\n  // don't preventDefault on editable elements\n  if (is.element(event.target) && matchesSelector(event.target, 'input,select,textarea,[contenteditable=true],[contenteditable=true] *')) {\n    return;\n  }\n\n  event.preventDefault();\n};\n\nfunction onInteractionEvent(_ref) {\n  var interaction = _ref.interaction,\n      event = _ref.event;\n\n  if (interaction.target) {\n    interaction.target.checkAndPreventDefault(event);\n  }\n}\n\nvar _arr = ['down', 'move', 'up', 'cancel'];\nfor (var _i = 0; _i < _arr.length; _i++) {\n  var eventSignal = _arr[_i];\n  Interaction.signals.on(eventSignal, onInteractionEvent);\n}\n\n// prevent native HTML5 drag on interact.js target elements\nInteraction.docEvents.dragstart = function preventNativeDrag(event) {\n  for (var _i2 = 0; _i2 < scope.interactions.length; _i2++) {\n    var _ref2;\n\n    _ref2 = scope.interactions[_i2];\n    var interaction = _ref2;\n\n\n    if (interaction.element && (interaction.element === event.target || nodeContains(interaction.element, event.target))) {\n\n      interaction.target.checkAndPreventDefault(event);\n      return;\n    }\n  }\n};\n\n},{\"./Interactable\":4,\"./Interaction\":5,\"./scope\":33,\"./utils/browser\":36,\"./utils/domUtils\":39,\"./utils/events\":40,\"./utils/is\":46}],23:[function(require,module,exports){\n'use strict';\n\nvar InteractEvent = require('../InteractEvent');\nvar Interaction = require('../Interaction');\nvar extend = require('../utils/extend');\n\nvar modifiers = {\n  names: [],\n\n  setOffsets: function setOffsets(arg) {\n    var interaction = arg.interaction,\n        page = arg.pageCoords;\n    var target = interaction.target,\n        element = interaction.element,\n        startOffset = interaction.startOffset;\n\n    var rect = target.getRect(element);\n\n    if (rect) {\n      startOffset.left = page.x - rect.left;\n      startOffset.top = page.y - rect.top;\n\n      startOffset.right = rect.right - page.x;\n      startOffset.bottom = rect.bottom - page.y;\n\n      if (!('width' in rect)) {\n        rect.width = rect.right - rect.left;\n      }\n      if (!('height' in rect)) {\n        rect.height = rect.bottom - rect.top;\n      }\n    } else {\n      startOffset.left = startOffset.top = startOffset.right = startOffset.bottom = 0;\n    }\n\n    arg.rect = rect;\n    arg.interactable = target;\n    arg.element = element;\n\n    for (var _i = 0; _i < modifiers.names.length; _i++) {\n      var _ref;\n\n      _ref = modifiers.names[_i];\n      var modifierName = _ref;\n\n      arg.options = target.options[interaction.prepared.name][modifierName];\n\n      if (!arg.options) {\n        continue;\n      }\n\n      interaction.modifierOffsets[modifierName] = modifiers[modifierName].setOffset(arg);\n    }\n  },\n\n  setAll: function setAll(arg) {\n    var interaction = arg.interaction,\n        statuses = arg.statuses,\n        preEnd = arg.preEnd,\n        requireEndOnly = arg.requireEndOnly;\n\n    var result = {\n      dx: 0,\n      dy: 0,\n      changed: false,\n      locked: false,\n      shouldMove: true\n    };\n\n    arg.modifiedCoords = extend({}, arg.pageCoords);\n\n    for (var _i2 = 0; _i2 < modifiers.names.length; _i2++) {\n      var _ref2;\n\n      _ref2 = modifiers.names[_i2];\n      var modifierName = _ref2;\n\n      var modifier = modifiers[modifierName];\n      var options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      if (!shouldDo(options, preEnd, requireEndOnly)) {\n        continue;\n      }\n\n      arg.status = arg.status = statuses[modifierName];\n      arg.options = options;\n      arg.offset = arg.interaction.modifierOffsets[modifierName];\n\n      modifier.set(arg);\n\n      if (arg.status.locked) {\n        arg.modifiedCoords.x += arg.status.dx;\n        arg.modifiedCoords.y += arg.status.dy;\n\n        result.dx += arg.status.dx;\n        result.dy += arg.status.dy;\n\n        result.locked = true;\n      }\n    }\n\n    // a move should be fired if:\n    //  - there are no modifiers enabled,\n    //  - no modifiers are \"locked\" i.e. have changed the pointer's coordinates, or\n    //  - the locked coords have changed since the last pointer move\n    result.shouldMove = !arg.status || !result.locked || arg.status.changed;\n\n    return result;\n  },\n\n  resetStatuses: function resetStatuses(statuses) {\n    for (var _i3 = 0; _i3 < modifiers.names.length; _i3++) {\n      var _ref3;\n\n      _ref3 = modifiers.names[_i3];\n      var modifierName = _ref3;\n\n      var status = statuses[modifierName] || {};\n\n      status.dx = status.dy = 0;\n      status.modifiedX = status.modifiedY = NaN;\n      status.locked = false;\n      status.changed = true;\n\n      statuses[modifierName] = status;\n    }\n\n    return statuses;\n  },\n\n  start: function start(_ref4, signalName) {\n    var interaction = _ref4.interaction;\n\n    var arg = {\n      interaction: interaction,\n      pageCoords: (signalName === 'action-resume' ? interaction.curCoords : interaction.startCoords).page,\n      startOffset: interaction.startOffset,\n      statuses: interaction.modifierStatuses,\n      preEnd: false,\n      requireEndOnly: false\n    };\n\n    modifiers.setOffsets(arg);\n    modifiers.resetStatuses(arg.statuses);\n\n    arg.pageCoords = extend({}, interaction.startCoords.page);\n    interaction.modifierResult = modifiers.setAll(arg);\n  },\n\n  beforeMove: function beforeMove(_ref5) {\n    var interaction = _ref5.interaction,\n        preEnd = _ref5.preEnd,\n        interactingBeforeMove = _ref5.interactingBeforeMove;\n\n    var modifierResult = modifiers.setAll({\n      interaction: interaction,\n      preEnd: preEnd,\n      pageCoords: interaction.curCoords.page,\n      statuses: interaction.modifierStatuses,\n      requireEndOnly: false\n    });\n\n    // don't fire an action move if a modifier would keep the event in the same\n    // cordinates as before\n    if (!modifierResult.shouldMove && interactingBeforeMove) {\n      interaction._dontFireMove = true;\n    }\n\n    interaction.modifierResult = modifierResult;\n  },\n\n  end: function end(_ref6) {\n    var interaction = _ref6.interaction,\n        event = _ref6.event;\n\n    for (var _i4 = 0; _i4 < modifiers.names.length; _i4++) {\n      var _ref7;\n\n      _ref7 = modifiers.names[_i4];\n      var modifierName = _ref7;\n\n      var options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      // if the endOnly option is true for any modifier\n      if (shouldDo(options, true, true)) {\n        // fire a move event at the modified coordinates\n        interaction.doMove({ event: event, preEnd: true });\n        break;\n      }\n    }\n  },\n\n  setXY: function setXY(arg) {\n    var iEvent = arg.iEvent,\n        interaction = arg.interaction;\n\n    var modifierArg = extend({}, arg);\n\n    for (var i = 0; i < modifiers.names.length; i++) {\n      var modifierName = modifiers.names[i];\n      modifierArg.options = interaction.target.options[interaction.prepared.name][modifierName];\n\n      if (!modifierArg.options) {\n        continue;\n      }\n\n      var modifier = modifiers[modifierName];\n\n      modifierArg.status = interaction.modifierStatuses[modifierName];\n\n      iEvent[modifierName] = modifier.modifyCoords(modifierArg);\n    }\n  }\n};\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.startOffset = { left: 0, right: 0, top: 0, bottom: 0 };\n  interaction.modifierOffsets = {};\n  interaction.modifierStatuses = modifiers.resetStatuses({});\n  interaction.modifierResult = null;\n});\n\nInteraction.signals.on('action-start', modifiers.start);\nInteraction.signals.on('action-resume', modifiers.start);\nInteraction.signals.on('before-action-move', modifiers.beforeMove);\nInteraction.signals.on('action-end', modifiers.end);\n\nInteractEvent.signals.on('set-xy', modifiers.setXY);\n\nfunction shouldDo(options, preEnd, requireEndOnly) {\n  return options && options.enabled && (preEnd || !options.endOnly) && (!requireEndOnly || options.endOnly);\n}\n\nmodule.exports = modifiers;\n\n},{\"../InteractEvent\":3,\"../Interaction\":5,\"../utils/extend\":41}],24:[function(require,module,exports){\n'use strict';\n\nvar modifiers = require('./base');\nvar utils = require('../utils');\nvar defaultOptions = require('../defaultOptions');\n\nvar restrict = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    restriction: null,\n    elementRect: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var rect = _ref.rect,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    var elementRect = options && options.elementRect;\n    var offset = {};\n\n    if (rect && elementRect) {\n      offset.left = startOffset.left - rect.width * elementRect.left;\n      offset.top = startOffset.top - rect.height * elementRect.top;\n\n      offset.right = startOffset.right - rect.width * (1 - elementRect.right);\n      offset.bottom = startOffset.bottom - rect.height * (1 - elementRect.bottom);\n    } else {\n      offset.left = offset.top = offset.right = offset.bottom = 0;\n    }\n\n    return offset;\n  },\n\n  set: function set(_ref2) {\n    var modifiedCoords = _ref2.modifiedCoords,\n        interaction = _ref2.interaction,\n        status = _ref2.status,\n        options = _ref2.options;\n\n    if (!options) {\n      return status;\n    }\n\n    var page = status.useStatusXY ? { x: status.x, y: status.y } : utils.extend({}, modifiedCoords);\n\n    var restriction = getRestrictionRect(options.restriction, interaction, page);\n\n    if (!restriction) {\n      return status;\n    }\n\n    status.dx = 0;\n    status.dy = 0;\n    status.locked = false;\n\n    var rect = restriction;\n    var modifiedX = page.x;\n    var modifiedY = page.y;\n\n    var offset = interaction.modifierOffsets.restrict;\n\n    // object is assumed to have\n    // x, y, width, height or\n    // left, top, right, bottom\n    if ('x' in restriction && 'y' in restriction) {\n      modifiedX = Math.max(Math.min(rect.x + rect.width - offset.right, page.x), rect.x + offset.left);\n      modifiedY = Math.max(Math.min(rect.y + rect.height - offset.bottom, page.y), rect.y + offset.top);\n    } else {\n      modifiedX = Math.max(Math.min(rect.right - offset.right, page.x), rect.left + offset.left);\n      modifiedY = Math.max(Math.min(rect.bottom - offset.bottom, page.y), rect.top + offset.top);\n    }\n\n    status.dx = modifiedX - page.x;\n    status.dy = modifiedY - page.y;\n\n    status.changed = status.modifiedX !== modifiedX || status.modifiedY !== modifiedY;\n    status.locked = !!(status.dx || status.dy);\n\n    status.modifiedX = modifiedX;\n    status.modifiedY = modifiedY;\n  },\n\n  modifyCoords: function modifyCoords(_ref3) {\n    var page = _ref3.page,\n        client = _ref3.client,\n        status = _ref3.status,\n        phase = _ref3.phase,\n        options = _ref3.options;\n\n    var elementRect = options && options.elementRect;\n\n    if (options && options.enabled && !(phase === 'start' && elementRect && status.locked)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n\n        return {\n          dx: status.dx,\n          dy: status.dy\n        };\n      }\n    }\n  },\n\n  getRestrictionRect: getRestrictionRect\n};\n\nfunction getRestrictionRect(value, interaction, page) {\n  if (utils.is.function(value)) {\n    return utils.resolveRectLike(value, interaction.target, interaction.element, [page.x, page.y, interaction]);\n  } else {\n    return utils.resolveRectLike(value, interaction.target, interaction.element);\n  }\n}\n\nmodifiers.restrict = restrict;\nmodifiers.names.push('restrict');\n\ndefaultOptions.perAction.restrict = restrict.defaults;\n\nmodule.exports = restrict;\n\n},{\"../defaultOptions\":18,\"../utils\":44,\"./base\":23}],25:[function(require,module,exports){\n'use strict';\n\n// This module adds the options.resize.restrictEdges setting which sets min and\n// max for the top, left, bottom and right edges of the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictEdges: {\n//     inner: { top: 200, left: 200, right: 400, bottom: 400 },\n//     outer: { top:   0, left:   0, right: 600, bottom: 600 },\n//   },\n// });\n\nvar modifiers = require('./base');\nvar utils = require('../utils');\nvar rectUtils = require('../utils/rect');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\n\nvar _require = require('./restrict'),\n    getRestrictionRect = _require.getRestrictionRect;\n\nvar noInner = { top: +Infinity, left: +Infinity, bottom: -Infinity, right: -Infinity };\nvar noOuter = { top: -Infinity, left: -Infinity, bottom: +Infinity, right: +Infinity };\n\nvar restrictEdges = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    min: null,\n    max: null,\n    offset: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    if (!options) {\n      return utils.extend({}, startOffset);\n    }\n\n    var offset = getRestrictionRect(options.offset, interaction, interaction.startCoords.page);\n\n    if (offset) {\n      return {\n        top: startOffset.top + offset.y,\n        left: startOffset.left + offset.x,\n        bottom: startOffset.bottom + offset.y,\n        right: startOffset.right + offset.x\n      };\n    }\n\n    return startOffset;\n  },\n\n  set: function set(_ref2) {\n    var modifiedCoords = _ref2.modifiedCoords,\n        interaction = _ref2.interaction,\n        status = _ref2.status,\n        offset = _ref2.offset,\n        options = _ref2.options;\n\n    var edges = interaction.prepared.linkedEdges || interaction.prepared.edges;\n\n    if (!interaction.interacting() || !edges) {\n      return;\n    }\n\n    var page = status.useStatusXY ? { x: status.x, y: status.y } : utils.extend({}, modifiedCoords);\n    var inner = rectUtils.xywhToTlbr(getRestrictionRect(options.inner, interaction, page)) || noInner;\n    var outer = rectUtils.xywhToTlbr(getRestrictionRect(options.outer, interaction, page)) || noOuter;\n\n    var modifiedX = page.x;\n    var modifiedY = page.y;\n\n    status.dx = 0;\n    status.dy = 0;\n    status.locked = false;\n\n    if (edges.top) {\n      modifiedY = Math.min(Math.max(outer.top + offset.top, page.y), inner.top + offset.top);\n    } else if (edges.bottom) {\n      modifiedY = Math.max(Math.min(outer.bottom - offset.bottom, page.y), inner.bottom - offset.bottom);\n    }\n    if (edges.left) {\n      modifiedX = Math.min(Math.max(outer.left + offset.left, page.x), inner.left + offset.left);\n    } else if (edges.right) {\n      modifiedX = Math.max(Math.min(outer.right - offset.right, page.x), inner.right - offset.right);\n    }\n\n    status.dx = modifiedX - page.x;\n    status.dy = modifiedY - page.y;\n\n    status.changed = status.modifiedX !== modifiedX || status.modifiedY !== modifiedY;\n    status.locked = !!(status.dx || status.dy);\n\n    status.modifiedX = modifiedX;\n    status.modifiedY = modifiedY;\n  },\n\n  modifyCoords: function modifyCoords(_ref3) {\n    var page = _ref3.page,\n        client = _ref3.client,\n        status = _ref3.status,\n        phase = _ref3.phase,\n        options = _ref3.options;\n\n    if (options && options.enabled && !(phase === 'start' && status.locked)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n\n        return {\n          dx: status.dx,\n          dy: status.dy\n        };\n      }\n    }\n  },\n\n  noInner: noInner,\n  noOuter: noOuter,\n  getRestrictionRect: getRestrictionRect\n};\n\nmodifiers.restrictEdges = restrictEdges;\nmodifiers.names.push('restrictEdges');\n\ndefaultOptions.perAction.restrictEdges = restrictEdges.defaults;\nresize.defaults.restrictEdges = restrictEdges.defaults;\n\nmodule.exports = restrictEdges;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils\":44,\"../utils/rect\":51,\"./base\":23,\"./restrict\":24}],26:[function(require,module,exports){\n'use strict';\n\n// This module adds the options.resize.restrictSize setting which sets min and\n// max width and height for the target being resized.\n//\n// interact(target).resize({\n//   edges: { top: true, left: true },\n//   restrictSize: {\n//     min: { width: -600, height: -600 },\n//     max: { width:  600, height:  600 },\n//   },\n// });\n\nvar modifiers = require('./base');\nvar restrictEdges = require('./restrictEdges');\nvar utils = require('../utils');\nvar rectUtils = require('../utils/rect');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\n\nvar noMin = { width: -Infinity, height: -Infinity };\nvar noMax = { width: +Infinity, height: +Infinity };\n\nvar restrictSize = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    min: null,\n    max: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction;\n\n    return interaction.startOffset;\n  },\n\n  set: function set(arg) {\n    var interaction = arg.interaction,\n        options = arg.options;\n\n    var edges = interaction.prepared.linkedEdges || interaction.prepared.edges;\n\n    if (!interaction.interacting() || !edges) {\n      return;\n    }\n\n    var rect = rectUtils.xywhToTlbr(interaction.resizeRects.inverted);\n\n    var minSize = rectUtils.tlbrToXywh(restrictEdges.getRestrictionRect(options.min, interaction)) || noMin;\n    var maxSize = rectUtils.tlbrToXywh(restrictEdges.getRestrictionRect(options.max, interaction)) || noMax;\n\n    arg.options = {\n      enabled: options.enabled,\n      endOnly: options.endOnly,\n      inner: utils.extend({}, restrictEdges.noInner),\n      outer: utils.extend({}, restrictEdges.noOuter)\n    };\n\n    if (edges.top) {\n      arg.options.inner.top = rect.bottom - minSize.height;\n      arg.options.outer.top = rect.bottom - maxSize.height;\n    } else if (edges.bottom) {\n      arg.options.inner.bottom = rect.top + minSize.height;\n      arg.options.outer.bottom = rect.top + maxSize.height;\n    }\n    if (edges.left) {\n      arg.options.inner.left = rect.right - minSize.width;\n      arg.options.outer.left = rect.right - maxSize.width;\n    } else if (edges.right) {\n      arg.options.inner.right = rect.left + minSize.width;\n      arg.options.outer.right = rect.left + maxSize.width;\n    }\n\n    restrictEdges.set(arg);\n  },\n\n  modifyCoords: restrictEdges.modifyCoords\n};\n\nmodifiers.restrictSize = restrictSize;\nmodifiers.names.push('restrictSize');\n\ndefaultOptions.perAction.restrictSize = restrictSize.defaults;\nresize.defaults.restrictSize = restrictSize.defaults;\n\nmodule.exports = restrictSize;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils\":44,\"../utils/rect\":51,\"./base\":23,\"./restrictEdges\":25}],27:[function(require,module,exports){\n'use strict';\n\nvar modifiers = require('./base');\nvar interact = require('../interact');\nvar utils = require('../utils');\nvar defaultOptions = require('../defaultOptions');\n\nvar snap = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    range: Infinity,\n    targets: null,\n    offsets: null,\n\n    relativePoints: null\n  },\n\n  setOffset: function setOffset(_ref) {\n    var interaction = _ref.interaction,\n        interactable = _ref.interactable,\n        element = _ref.element,\n        rect = _ref.rect,\n        startOffset = _ref.startOffset,\n        options = _ref.options;\n\n    var offsets = [];\n    var optionsOrigin = utils.rectToXY(utils.resolveRectLike(options.origin));\n    var origin = optionsOrigin || utils.getOriginXY(interactable, element, interaction.prepared.name);\n    options = options || interactable.options[interaction.prepared.name].snap || {};\n\n    var snapOffset = void 0;\n\n    if (options.offset === 'startCoords') {\n      snapOffset = {\n        x: interaction.startCoords.page.x - origin.x,\n        y: interaction.startCoords.page.y - origin.y\n      };\n    } else {\n      var offsetRect = utils.resolveRectLike(options.offset, interactable, element, [interaction]);\n\n      snapOffset = utils.rectToXY(offsetRect) || { x: 0, y: 0 };\n    }\n\n    if (rect && options.relativePoints && options.relativePoints.length) {\n      for (var _i = 0; _i < options.relativePoints.length; _i++) {\n        var _ref3;\n\n        _ref3 = options.relativePoints[_i];\n        var _ref2 = _ref3;\n        var relativeX = _ref2.x;\n        var relativeY = _ref2.y;\n\n        offsets.push({\n          x: startOffset.left - rect.width * relativeX + snapOffset.x,\n          y: startOffset.top - rect.height * relativeY + snapOffset.y\n        });\n      }\n    } else {\n      offsets.push(snapOffset);\n    }\n\n    return offsets;\n  },\n\n  set: function set(_ref4) {\n    var interaction = _ref4.interaction,\n        modifiedCoords = _ref4.modifiedCoords,\n        status = _ref4.status,\n        options = _ref4.options,\n        offsets = _ref4.offset;\n\n    var targets = [];\n    var target = void 0;\n    var page = void 0;\n    var i = void 0;\n\n    if (status.useStatusXY) {\n      page = { x: status.x, y: status.y };\n    } else {\n      var origin = utils.getOriginXY(interaction.target, interaction.element, interaction.prepared.name);\n\n      page = utils.extend({}, modifiedCoords);\n\n      page.x -= origin.x;\n      page.y -= origin.y;\n    }\n\n    status.realX = page.x;\n    status.realY = page.y;\n\n    var len = options.targets ? options.targets.length : 0;\n\n    for (var _i2 = 0; _i2 < offsets.length; _i2++) {\n      var _ref6;\n\n      _ref6 = offsets[_i2];\n      var _ref5 = _ref6;\n      var offsetX = _ref5.x;\n      var offsetY = _ref5.y;\n\n      var relativeX = page.x - offsetX;\n      var relativeY = page.y - offsetY;\n\n      for (var _i3 = 0; _i3 < (options.targets || []).length; _i3++) {\n        var _ref7;\n\n        _ref7 = (options.targets || [])[_i3];\n        var snapTarget = _ref7;\n\n        if (utils.is.function(snapTarget)) {\n          target = snapTarget(relativeX, relativeY, interaction);\n        } else {\n          target = snapTarget;\n        }\n\n        if (!target) {\n          continue;\n        }\n\n        targets.push({\n          x: utils.is.number(target.x) ? target.x + offsetX : relativeX,\n          y: utils.is.number(target.y) ? target.y + offsetY : relativeY,\n\n          range: utils.is.number(target.range) ? target.range : options.range\n        });\n      }\n    }\n\n    var closest = {\n      target: null,\n      inRange: false,\n      distance: 0,\n      range: 0,\n      dx: 0,\n      dy: 0\n    };\n\n    for (i = 0, len = targets.length; i < len; i++) {\n      target = targets[i];\n\n      var range = target.range;\n      var dx = target.x - page.x;\n      var dy = target.y - page.y;\n      var distance = utils.hypot(dx, dy);\n      var inRange = distance <= range;\n\n      // Infinite targets count as being out of range\n      // compared to non infinite ones that are in range\n      if (range === Infinity && closest.inRange && closest.range !== Infinity) {\n        inRange = false;\n      }\n\n      if (!closest.target || (inRange\n      // is the closest target in range?\n      ? closest.inRange && range !== Infinity\n      // the pointer is relatively deeper in this target\n      ? distance / range < closest.distance / closest.range\n      // this target has Infinite range and the closest doesn't\n      : range === Infinity && closest.range !== Infinity ||\n      // OR this target is closer that the previous closest\n      distance < closest.distance :\n      // The other is not in range and the pointer is closer to this target\n      !closest.inRange && distance < closest.distance)) {\n\n        closest.target = target;\n        closest.distance = distance;\n        closest.range = range;\n        closest.inRange = inRange;\n        closest.dx = dx;\n        closest.dy = dy;\n\n        status.range = range;\n      }\n    }\n\n    var snapChanged = void 0;\n\n    if (closest.target) {\n      snapChanged = status.modifiedX !== closest.target.x || status.modifiedY !== closest.target.y;\n\n      status.modifiedX = closest.target.x;\n      status.modifiedY = closest.target.y;\n    } else {\n      snapChanged = true;\n\n      status.modifiedX = NaN;\n      status.modifiedY = NaN;\n    }\n\n    status.dx = closest.dx;\n    status.dy = closest.dy;\n\n    status.changed = snapChanged || closest.inRange && !status.locked;\n    status.locked = closest.inRange;\n  },\n\n  modifyCoords: function modifyCoords(_ref8) {\n    var page = _ref8.page,\n        client = _ref8.client,\n        status = _ref8.status,\n        phase = _ref8.phase,\n        options = _ref8.options;\n\n    var relativePoints = options && options.relativePoints;\n\n    if (options && options.enabled && !(phase === 'start' && relativePoints && relativePoints.length)) {\n\n      if (status.locked) {\n        page.x += status.dx;\n        page.y += status.dy;\n        client.x += status.dx;\n        client.y += status.dy;\n      }\n\n      return {\n        range: status.range,\n        locked: status.locked,\n        x: status.modifiedX,\n        y: status.modifiedY,\n        realX: status.realX,\n        realY: status.realY,\n        dx: status.dx,\n        dy: status.dy\n      };\n    }\n  }\n};\n\ninteract.createSnapGrid = function (grid) {\n  return function (x, y) {\n    var limits = grid.limits || {\n      left: -Infinity,\n      right: Infinity,\n      top: -Infinity,\n      bottom: Infinity\n    };\n    var offsetX = 0;\n    var offsetY = 0;\n\n    if (utils.is.object(grid.offset)) {\n      offsetX = grid.offset.x;\n      offsetY = grid.offset.y;\n    }\n\n    var gridx = Math.round((x - offsetX) / grid.x);\n    var gridy = Math.round((y - offsetY) / grid.y);\n\n    var newX = Math.max(limits.left, Math.min(limits.right, gridx * grid.x + offsetX));\n    var newY = Math.max(limits.top, Math.min(limits.bottom, gridy * grid.y + offsetY));\n\n    return {\n      x: newX,\n      y: newY,\n      range: grid.range\n    };\n  };\n};\n\nmodifiers.snap = snap;\nmodifiers.names.push('snap');\n\ndefaultOptions.perAction.snap = snap.defaults;\n\nmodule.exports = snap;\n\n},{\"../defaultOptions\":18,\"../interact\":21,\"../utils\":44,\"./base\":23}],28:[function(require,module,exports){\n'use strict';\n\n// This module allows snapping of the size of targets during resize\n// interactions.\n\nvar modifiers = require('./base');\nvar snap = require('./snap');\nvar defaultOptions = require('../defaultOptions');\nvar resize = require('../actions/resize');\nvar utils = require('../utils/');\n\nvar snapSize = {\n  defaults: {\n    enabled: false,\n    endOnly: false,\n    range: Infinity,\n    targets: null,\n    offsets: null\n  },\n\n  setOffset: function setOffset(arg) {\n    var interaction = arg.interaction,\n        options = arg.options;\n\n    var edges = interaction.prepared.edges;\n\n    if (!edges) {\n      return;\n    }\n\n    arg.options = {\n      relativePoints: [{\n        x: edges.left ? 0 : 1,\n        y: edges.top ? 0 : 1\n      }],\n      origin: { x: 0, y: 0 },\n      offset: 'self',\n      range: options.range\n    };\n\n    var offsets = snap.setOffset(arg);\n    arg.options = options;\n\n    return offsets;\n  },\n\n  set: function set(arg) {\n    var interaction = arg.interaction,\n        options = arg.options,\n        offset = arg.offset,\n        modifiedCoords = arg.modifiedCoords;\n\n    var page = utils.extend({}, modifiedCoords);\n    var relativeX = page.x - offset[0].x;\n    var relativeY = page.y - offset[0].y;\n\n    arg.options = utils.extend({}, options);\n    arg.options.targets = [];\n\n    for (var _i = 0; _i < (options.targets || []).length; _i++) {\n      var _ref;\n\n      _ref = (options.targets || [])[_i];\n      var snapTarget = _ref;\n\n      var target = void 0;\n\n      if (utils.is.function(snapTarget)) {\n        target = snapTarget(relativeX, relativeY, interaction);\n      } else {\n        target = snapTarget;\n      }\n\n      if (!target) {\n        continue;\n      }\n\n      if ('width' in target && 'height' in target) {\n        target.x = target.width;\n        target.y = target.height;\n      }\n\n      arg.options.targets.push(target);\n    }\n\n    snap.set(arg);\n  },\n\n  modifyCoords: function modifyCoords(arg) {\n    var options = arg.options;\n\n\n    arg.options = utils.extend({}, options);\n    arg.options.enabled = options.enabled;\n    arg.options.relativePoints = [null];\n\n    snap.modifyCoords(arg);\n  }\n};\n\nmodifiers.snapSize = snapSize;\nmodifiers.names.push('snapSize');\n\ndefaultOptions.perAction.snapSize = snapSize.defaults;\nresize.defaults.snapSize = snapSize.defaults;\n\nmodule.exports = snapSize;\n\n},{\"../actions/resize\":10,\"../defaultOptions\":18,\"../utils/\":44,\"./base\":23,\"./snap\":27}],29:[function(require,module,exports){\n'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar pointerUtils = require('../utils/pointerUtils');\n\nmodule.exports = function () {\n  /** */\n  function PointerEvent(type, pointer, event, eventTarget, interaction) {\n    _classCallCheck(this, PointerEvent);\n\n    pointerUtils.pointerExtend(this, event);\n\n    if (event !== pointer) {\n      pointerUtils.pointerExtend(this, pointer);\n    }\n\n    this.interaction = interaction;\n\n    this.timeStamp = new Date().getTime();\n    this.originalEvent = event;\n    this.type = type;\n    this.pointerId = pointerUtils.getPointerId(pointer);\n    this.pointerType = pointerUtils.getPointerType(pointer);\n    this.target = eventTarget;\n    this.currentTarget = null;\n\n    if (type === 'tap') {\n      var pointerIndex = interaction.getPointerIndex(pointer);\n      this.dt = this.timeStamp - interaction.downTimes[pointerIndex];\n\n      var interval = this.timeStamp - interaction.tapTime;\n\n      this.double = !!(interaction.prevTap && interaction.prevTap.type !== 'doubletap' && interaction.prevTap.target === this.target && interval < 500);\n    } else if (type === 'doubletap') {\n      this.dt = pointer.timeStamp - interaction.tapTime;\n    }\n  }\n\n  PointerEvent.prototype.subtractOrigin = function subtractOrigin(_ref) {\n    var originX = _ref.x,\n        originY = _ref.y;\n\n    this.pageX -= originX;\n    this.pageY -= originY;\n    this.clientX -= originX;\n    this.clientY -= originY;\n\n    return this;\n  };\n\n  PointerEvent.prototype.addOrigin = function addOrigin(_ref2) {\n    var originX = _ref2.x,\n        originY = _ref2.y;\n\n    this.pageX += originX;\n    this.pageY += originY;\n    this.clientX += originX;\n    this.clientY += originY;\n\n    return this;\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.preventDefault = function preventDefault() {\n    this.originalEvent.preventDefault();\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  };\n\n  /** */\n\n\n  PointerEvent.prototype.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.immediatePropagationStopped = this.propagationStopped = true;\n  };\n\n  return PointerEvent;\n}();\n\n},{\"../utils/pointerUtils\":49}],30:[function(require,module,exports){\n'use strict';\n\nvar PointerEvent = require('./PointerEvent');\nvar Interaction = require('../Interaction');\nvar utils = require('../utils');\nvar defaults = require('../defaultOptions');\nvar signals = require('../utils/Signals').new();\n\nvar simpleSignals = ['down', 'up', 'cancel'];\nvar simpleEvents = ['down', 'up', 'cancel'];\n\nvar pointerEvents = {\n  PointerEvent: PointerEvent,\n  fire: fire,\n  collectEventTargets: collectEventTargets,\n  signals: signals,\n  defaults: {\n    holdDuration: 600,\n    ignoreFrom: null,\n    allowFrom: null,\n    origin: { x: 0, y: 0 }\n  },\n  types: ['down', 'move', 'up', 'cancel', 'tap', 'doubletap', 'hold']\n};\n\nfunction fire(arg) {\n  var interaction = arg.interaction,\n      pointer = arg.pointer,\n      event = arg.event,\n      eventTarget = arg.eventTarget,\n      _arg$type = arg.type,\n      type = _arg$type === undefined ? arg.pointerEvent.type : _arg$type,\n      _arg$targets = arg.targets,\n      targets = _arg$targets === undefined ? collectEventTargets(arg) : _arg$targets,\n      _arg$pointerEvent = arg.pointerEvent,\n      pointerEvent = _arg$pointerEvent === undefined ? new PointerEvent(type, pointer, event, eventTarget, interaction) : _arg$pointerEvent;\n\n\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    targets: targets,\n    type: type,\n    pointerEvent: pointerEvent\n  };\n\n  for (var i = 0; i < targets.length; i++) {\n    var target = targets[i];\n\n    for (var prop in target.props || {}) {\n      pointerEvent[prop] = target.props[prop];\n    }\n\n    var origin = utils.getOriginXY(target.eventable, target.element);\n\n    pointerEvent.subtractOrigin(origin);\n    pointerEvent.eventable = target.eventable;\n    pointerEvent.currentTarget = target.element;\n\n    target.eventable.fire(pointerEvent);\n\n    pointerEvent.addOrigin(origin);\n\n    if (pointerEvent.immediatePropagationStopped || pointerEvent.propagationStopped && i + 1 < targets.length && targets[i + 1].element !== pointerEvent.currentTarget) {\n      break;\n    }\n  }\n\n  signals.fire('fired', signalArg);\n\n  if (type === 'tap') {\n    // if pointerEvent should make a double tap, create and fire a doubletap\n    // PointerEvent and use that as the prevTap\n    var prevTap = pointerEvent.double ? fire({\n      interaction: interaction, pointer: pointer, event: event, eventTarget: eventTarget,\n      type: 'doubletap'\n    }) : pointerEvent;\n\n    interaction.prevTap = prevTap;\n    interaction.tapTime = prevTap.timeStamp;\n  }\n\n  return pointerEvent;\n}\n\nfunction collectEventTargets(_ref) {\n  var interaction = _ref.interaction,\n      pointer = _ref.pointer,\n      event = _ref.event,\n      eventTarget = _ref.eventTarget,\n      type = _ref.type;\n\n  var pointerIndex = interaction.getPointerIndex(pointer);\n\n  // do not fire a tap event if the pointer was moved before being lifted\n  if (type === 'tap' && (interaction.pointerWasMoved\n  // or if the pointerup target is different to the pointerdown target\n  || !(interaction.downTargets[pointerIndex] && interaction.downTargets[pointerIndex] === eventTarget))) {\n    return [];\n  }\n\n  var path = utils.getPath(eventTarget);\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    type: type,\n    path: path,\n    targets: [],\n    element: null\n  };\n\n  for (var _i = 0; _i < path.length; _i++) {\n    var _ref2;\n\n    _ref2 = path[_i];\n    var element = _ref2;\n\n    signalArg.element = element;\n\n    signals.fire('collect-targets', signalArg);\n  }\n\n  if (type === 'hold') {\n    signalArg.targets = signalArg.targets.filter(function (target) {\n      return target.eventable.options.holdDuration === interaction.holdTimers[pointerIndex].duration;\n    });\n  }\n\n  return signalArg.targets;\n}\n\nInteraction.signals.on('update-pointer-down', function (_ref3) {\n  var interaction = _ref3.interaction,\n      pointerIndex = _ref3.pointerIndex;\n\n  interaction.holdTimers[pointerIndex] = { duration: Infinity, timeout: null };\n});\n\nInteraction.signals.on('remove-pointer', function (_ref4) {\n  var interaction = _ref4.interaction,\n      pointerIndex = _ref4.pointerIndex;\n\n  interaction.holdTimers.splice(pointerIndex, 1);\n});\n\nInteraction.signals.on('move', function (_ref5) {\n  var interaction = _ref5.interaction,\n      pointer = _ref5.pointer,\n      event = _ref5.event,\n      eventTarget = _ref5.eventTarget,\n      duplicateMove = _ref5.duplicateMove;\n\n  var pointerIndex = interaction.getPointerIndex(pointer);\n\n  if (!duplicateMove && (!interaction.pointerIsDown || interaction.pointerWasMoved)) {\n    if (interaction.pointerIsDown) {\n      clearTimeout(interaction.holdTimers[pointerIndex].timeout);\n    }\n\n    fire({\n      interaction: interaction, pointer: pointer, event: event, eventTarget: eventTarget,\n      type: 'move'\n    });\n  }\n});\n\nInteraction.signals.on('down', function (_ref6) {\n  var interaction = _ref6.interaction,\n      pointer = _ref6.pointer,\n      event = _ref6.event,\n      eventTarget = _ref6.eventTarget,\n      pointerIndex = _ref6.pointerIndex;\n\n  var timer = interaction.holdTimers[pointerIndex];\n  var path = utils.getPath(eventTarget);\n  var signalArg = {\n    interaction: interaction,\n    pointer: pointer,\n    event: event,\n    eventTarget: eventTarget,\n    type: 'hold',\n    targets: [],\n    path: path,\n    element: null\n  };\n\n  for (var _i2 = 0; _i2 < path.length; _i2++) {\n    var _ref7;\n\n    _ref7 = path[_i2];\n    var element = _ref7;\n\n    signalArg.element = element;\n\n    signals.fire('collect-targets', signalArg);\n  }\n\n  if (!signalArg.targets.length) {\n    return;\n  }\n\n  var minDuration = Infinity;\n\n  for (var _i3 = 0; _i3 < signalArg.targets.length; _i3++) {\n    var _ref8;\n\n    _ref8 = signalArg.targets[_i3];\n    var target = _ref8;\n\n    var holdDuration = target.eventable.options.holdDuration;\n\n    if (holdDuration < minDuration) {\n      minDuration = holdDuration;\n    }\n  }\n\n  timer.duration = minDuration;\n  timer.timeout = setTimeout(function () {\n    fire({\n      interaction: interaction,\n      eventTarget: eventTarget,\n      pointer: pointer,\n      event: event,\n      type: 'hold'\n    });\n  }, minDuration);\n});\n\nInteraction.signals.on('up', function (_ref9) {\n  var interaction = _ref9.interaction,\n      pointer = _ref9.pointer,\n      event = _ref9.event,\n      eventTarget = _ref9.eventTarget;\n\n  if (!interaction.pointerWasMoved) {\n    fire({ interaction: interaction, eventTarget: eventTarget, pointer: pointer, event: event, type: 'tap' });\n  }\n});\n\nvar _arr = ['up', 'cancel'];\nfor (var _i4 = 0; _i4 < _arr.length; _i4++) {\n  var signalName = _arr[_i4];\n  Interaction.signals.on(signalName, function (_ref11) {\n    var interaction = _ref11.interaction,\n        pointerIndex = _ref11.pointerIndex;\n\n    if (interaction.holdTimers[pointerIndex]) {\n      clearTimeout(interaction.holdTimers[pointerIndex].timeout);\n    }\n  });\n}\n\nfunction createSignalListener(type) {\n  return function (_ref10) {\n    var interaction = _ref10.interaction,\n        pointer = _ref10.pointer,\n        event = _ref10.event,\n        eventTarget = _ref10.eventTarget;\n\n    fire({ interaction: interaction, eventTarget: eventTarget, pointer: pointer, event: event, type: type });\n  };\n}\n\nfor (var i = 0; i < simpleSignals.length; i++) {\n  Interaction.signals.on(simpleSignals[i], createSignalListener(simpleEvents[i]));\n}\n\nInteraction.signals.on('new', function (interaction) {\n  interaction.prevTap = null; // the most recent tap event on this interaction\n  interaction.tapTime = 0; // time of the most recent tap event\n  interaction.holdTimers = []; // [{ duration, timeout }]\n});\n\ndefaults.pointerEvents = pointerEvents.defaults;\nmodule.exports = pointerEvents;\n\n},{\"../Interaction\":5,\"../defaultOptions\":18,\"../utils\":44,\"../utils/Signals\":34,\"./PointerEvent\":29}],31:[function(require,module,exports){\n'use strict';\n\nvar pointerEvents = require('./base');\nvar Interaction = require('../Interaction');\n\npointerEvents.signals.on('new', onNew);\npointerEvents.signals.on('fired', onFired);\n\nvar _arr = ['move', 'up', 'cancel', 'endall'];\nfor (var _i = 0; _i < _arr.length; _i++) {\n  var signal = _arr[_i];\n  Interaction.signals.on(signal, endHoldRepeat);\n}\n\nfunction onNew(_ref) {\n  var pointerEvent = _ref.pointerEvent;\n\n  if (pointerEvent.type !== 'hold') {\n    return;\n  }\n\n  pointerEvent.count = (pointerEvent.count || 0) + 1;\n}\n\nfunction onFired(_ref2) {\n  var interaction = _ref2.interaction,\n      pointerEvent = _ref2.pointerEvent,\n      eventTarget = _ref2.eventTarget,\n      targets = _ref2.targets;\n\n  if (pointerEvent.type !== 'hold' || !targets.length) {\n    return;\n  }\n\n  // get the repeat interval from the first eventable\n  var interval = targets[0].eventable.options.holdRepeatInterval;\n\n  // don't repeat if the interval is 0 or less\n  if (interval <= 0) {\n    return;\n  }\n\n  // set a timeout to fire the holdrepeat event\n  interaction.holdIntervalHandle = setTimeout(function () {\n    pointerEvents.fire({\n      interaction: interaction,\n      eventTarget: eventTarget,\n      type: 'hold',\n      pointer: pointerEvent,\n      event: pointerEvent\n    });\n  }, interval);\n}\n\nfunction endHoldRepeat(_ref3) {\n  var interaction = _ref3.interaction;\n\n  // set the interaction's holdStopTime property\n  // to stop further holdRepeat events\n  if (interaction.holdIntervalHandle) {\n    clearInterval(interaction.holdIntervalHandle);\n    interaction.holdIntervalHandle = null;\n  }\n}\n\n// don't repeat by default\npointerEvents.defaults.holdRepeatInterval = 0;\npointerEvents.types.push('holdrepeat');\n\nmodule.exports = {\n  onNew: onNew,\n  onFired: onFired,\n  endHoldRepeat: endHoldRepeat\n};\n\n},{\"../Interaction\":5,\"./base\":30}],32:[function(require,module,exports){\n'use strict';\n\nvar pointerEvents = require('./base');\nvar Interactable = require('../Interactable');\nvar is = require('../utils/is');\nvar scope = require('../scope');\nvar extend = require('../utils/extend');\n\nvar _require = require('../utils/arr'),\n    merge = _require.merge;\n\npointerEvents.signals.on('collect-targets', function (_ref) {\n  var targets = _ref.targets,\n      element = _ref.element,\n      type = _ref.type,\n      eventTarget = _ref.eventTarget;\n\n  scope.interactables.forEachMatch(element, function (interactable) {\n    var eventable = interactable.events;\n    var options = eventable.options;\n\n    if (eventable[type] && is.element(element) && interactable.testIgnoreAllow(options, element, eventTarget)) {\n\n      targets.push({\n        element: element,\n        eventable: eventable,\n        props: { interactable: interactable }\n      });\n    }\n  });\n});\n\nInteractable.signals.on('new', function (_ref2) {\n  var interactable = _ref2.interactable;\n\n  interactable.events.getRect = function (element) {\n    return interactable.getRect(element);\n  };\n});\n\nInteractable.signals.on('set', function (_ref3) {\n  var interactable = _ref3.interactable,\n      options = _ref3.options;\n\n  extend(interactable.events.options, pointerEvents.defaults);\n  extend(interactable.events.options, options);\n});\n\nmerge(Interactable.eventTypes, pointerEvents.types);\n\nInteractable.prototype.pointerEvents = function (options) {\n  extend(this.events.options, options);\n\n  return this;\n};\n\nvar __backCompatOption = Interactable.prototype._backCompatOption;\n\nInteractable.prototype._backCompatOption = function (optionName, newValue) {\n  var ret = __backCompatOption.call(this, optionName, newValue);\n\n  if (ret === this) {\n    this.events.options[optionName] = newValue;\n  }\n\n  return ret;\n};\n\nInteractable.settingsMethods.push('pointerEvents');\n\n},{\"../Interactable\":4,\"../scope\":33,\"../utils/arr\":35,\"../utils/extend\":41,\"../utils/is\":46,\"./base\":30}],33:[function(require,module,exports){\n'use strict';\n\nvar utils = require('./utils');\nvar events = require('./utils/events');\nvar signals = require('./utils/Signals').new();\n\nvar _require = require('./utils/window'),\n    getWindow = _require.getWindow;\n\nvar scope = {\n  signals: signals,\n  events: events,\n  utils: utils,\n\n  // main document\n  document: require('./utils/domObjects').document,\n  // all documents being listened to\n  documents: [],\n\n  addDocument: function addDocument(doc, win) {\n    // do nothing if document is already known\n    if (utils.contains(scope.documents, doc)) {\n      return false;\n    }\n\n    win = win || getWindow(doc);\n\n    scope.documents.push(doc);\n    events.documents.push(doc);\n\n    // don't add an unload event for the main document\n    // so that the page may be cached in browser history\n    if (doc !== scope.document) {\n      events.add(win, 'unload', scope.onWindowUnload);\n    }\n\n    signals.fire('add-document', { doc: doc, win: win });\n  },\n\n  removeDocument: function removeDocument(doc, win) {\n    var index = scope.documents.indexOf(doc);\n\n    win = win || getWindow(doc);\n\n    events.remove(win, 'unload', scope.onWindowUnload);\n\n    scope.documents.splice(index, 1);\n    events.documents.splice(index, 1);\n\n    signals.fire('remove-document', { win: win, doc: doc });\n  },\n\n  onWindowUnload: function onWindowUnload() {\n    scope.removeDocument(this.document, this);\n  }\n};\n\nmodule.exports = scope;\n\n},{\"./utils\":44,\"./utils/Signals\":34,\"./utils/domObjects\":38,\"./utils/events\":40,\"./utils/window\":52}],34:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Signals = function () {\n  function Signals() {\n    _classCallCheck(this, Signals);\n\n    this.listeners = {\n      // signalName: [listeners],\n    };\n  }\n\n  Signals.prototype.on = function on(name, listener) {\n    if (!this.listeners[name]) {\n      this.listeners[name] = [listener];\n      return;\n    }\n\n    this.listeners[name].push(listener);\n  };\n\n  Signals.prototype.off = function off(name, listener) {\n    if (!this.listeners[name]) {\n      return;\n    }\n\n    var index = this.listeners[name].indexOf(listener);\n\n    if (index !== -1) {\n      this.listeners[name].splice(index, 1);\n    }\n  };\n\n  Signals.prototype.fire = function fire(name, arg) {\n    var targetListeners = this.listeners[name];\n\n    if (!targetListeners) {\n      return;\n    }\n\n    for (var _i = 0; _i < targetListeners.length; _i++) {\n      var _ref;\n\n      _ref = targetListeners[_i];\n      var listener = _ref;\n\n      if (listener(arg, name) === false) {\n        return;\n      }\n    }\n  };\n\n  return Signals;\n}();\n\nSignals.new = function () {\n  return new Signals();\n};\n\nmodule.exports = Signals;\n\n},{}],35:[function(require,module,exports){\n\"use strict\";\n\nfunction contains(array, target) {\n  return array.indexOf(target) !== -1;\n}\n\nfunction merge(target, source) {\n  for (var _i = 0; _i < source.length; _i++) {\n    var _ref;\n\n    _ref = source[_i];\n    var item = _ref;\n\n    target.push(item);\n  }\n\n  return target;\n}\n\nmodule.exports = {\n  contains: contains,\n  merge: merge\n};\n\n},{}],36:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar is = require('./is');\nvar domObjects = require('./domObjects');\n\nvar Element = domObjects.Element;\nvar navigator = window.navigator;\n\nvar browser = {\n  // Does the browser support touch input?\n  supportsTouch: !!('ontouchstart' in window || is.function(window.DocumentTouch) && domObjects.document instanceof window.DocumentTouch),\n\n  // Does the browser support PointerEvents\n  supportsPointerEvent: !!domObjects.PointerEvent,\n\n  isIOS: /iP(hone|od|ad)/.test(navigator.platform),\n\n  // scrolling doesn't change the result of getClientRects on iOS 7\n  isIOS7: /iP(hone|od|ad)/.test(navigator.platform) && /OS 7[^\\d]/.test(navigator.appVersion),\n\n  isIe9: /MSIE 9/.test(navigator.userAgent),\n\n  // prefix matchesSelector\n  prefixedMatchesSelector: 'matches' in Element.prototype ? 'matches' : 'webkitMatchesSelector' in Element.prototype ? 'webkitMatchesSelector' : 'mozMatchesSelector' in Element.prototype ? 'mozMatchesSelector' : 'oMatchesSelector' in Element.prototype ? 'oMatchesSelector' : 'msMatchesSelector',\n\n  pEventTypes: domObjects.PointerEvent ? domObjects.PointerEvent === window.MSPointerEvent ? {\n    up: 'MSPointerUp',\n    down: 'MSPointerDown',\n    over: 'mouseover',\n    out: 'mouseout',\n    move: 'MSPointerMove',\n    cancel: 'MSPointerCancel'\n  } : {\n    up: 'pointerup',\n    down: 'pointerdown',\n    over: 'pointerover',\n    out: 'pointerout',\n    move: 'pointermove',\n    cancel: 'pointercancel'\n  } : null,\n\n  // because Webkit and Opera still use 'mousewheel' event type\n  wheelEvent: 'onmousewheel' in domObjects.document ? 'mousewheel' : 'wheel'\n\n};\n\n// Opera Mobile must be handled differently\nbrowser.isOperaMobile = navigator.appName === 'Opera' && browser.supportsTouch && navigator.userAgent.match('Presto');\n\nmodule.exports = browser;\n\n},{\"./domObjects\":38,\"./is\":46,\"./window\":52}],37:[function(require,module,exports){\n'use strict';\n\nvar is = require('./is');\n\nmodule.exports = function clone(source) {\n  var dest = {};\n  for (var prop in source) {\n    if (is.plainObject(source[prop])) {\n      dest[prop] = clone(source[prop]);\n    } else {\n      dest[prop] = source[prop];\n    }\n  }\n  return dest;\n};\n\n},{\"./is\":46}],38:[function(require,module,exports){\n'use strict';\n\nvar domObjects = {};\nvar win = require('./window').window;\n\nfunction blank() {}\n\ndomObjects.document = win.document;\ndomObjects.DocumentFragment = win.DocumentFragment || blank;\ndomObjects.SVGElement = win.SVGElement || blank;\ndomObjects.SVGSVGElement = win.SVGSVGElement || blank;\ndomObjects.SVGElementInstance = win.SVGElementInstance || blank;\ndomObjects.Element = win.Element || blank;\ndomObjects.HTMLElement = win.HTMLElement || domObjects.Element;\n\ndomObjects.Event = win.Event;\ndomObjects.Touch = win.Touch || blank;\ndomObjects.PointerEvent = win.PointerEvent || win.MSPointerEvent;\n\nmodule.exports = domObjects;\n\n},{\"./window\":52}],39:[function(require,module,exports){\n'use strict';\n\nvar win = require('./window');\nvar browser = require('./browser');\nvar is = require('./is');\nvar domObjects = require('./domObjects');\n\nvar domUtils = {\n  nodeContains: function nodeContains(parent, child) {\n    while (child) {\n      if (child === parent) {\n        return true;\n      }\n\n      child = child.parentNode;\n    }\n\n    return false;\n  },\n\n  closest: function closest(element, selector) {\n    while (is.element(element)) {\n      if (domUtils.matchesSelector(element, selector)) {\n        return element;\n      }\n\n      element = domUtils.parentNode(element);\n    }\n\n    return null;\n  },\n\n  parentNode: function parentNode(node) {\n    var parent = node.parentNode;\n\n    if (is.docFrag(parent)) {\n      // skip past #shado-root fragments\n      while ((parent = parent.host) && is.docFrag(parent)) {\n        continue;\n      }\n\n      return parent;\n    }\n\n    return parent;\n  },\n\n  matchesSelector: function matchesSelector(element, selector) {\n    // remove /deep/ from selectors if shadowDOM polyfill is used\n    if (win.window !== win.realWindow) {\n      selector = selector.replace(/\\/deep\\//g, ' ');\n    }\n\n    return element[browser.prefixedMatchesSelector](selector);\n  },\n\n  // Test for the element that's \"above\" all other qualifiers\n  indexOfDeepestElement: function indexOfDeepestElement(elements) {\n    var deepestZoneParents = [];\n    var dropzoneParents = [];\n    var dropzone = void 0;\n    var deepestZone = elements[0];\n    var index = deepestZone ? 0 : -1;\n    var parent = void 0;\n    var child = void 0;\n    var i = void 0;\n    var n = void 0;\n\n    for (i = 1; i < elements.length; i++) {\n      dropzone = elements[i];\n\n      // an element might belong to multiple selector dropzones\n      if (!dropzone || dropzone === deepestZone) {\n        continue;\n      }\n\n      if (!deepestZone) {\n        deepestZone = dropzone;\n        index = i;\n        continue;\n      }\n\n      // check if the deepest or current are document.documentElement or document.rootElement\n      // - if the current dropzone is, do nothing and continue\n      if (dropzone.parentNode === dropzone.ownerDocument) {\n        continue;\n      }\n      // - if deepest is, update with the current dropzone and continue to next\n      else if (deepestZone.parentNode === dropzone.ownerDocument) {\n          deepestZone = dropzone;\n          index = i;\n          continue;\n        }\n\n      if (!deepestZoneParents.length) {\n        parent = deepestZone;\n        while (parent.parentNode && parent.parentNode !== parent.ownerDocument) {\n          deepestZoneParents.unshift(parent);\n          parent = parent.parentNode;\n        }\n      }\n\n      // if this element is an svg element and the current deepest is\n      // an HTMLElement\n      if (deepestZone instanceof domObjects.HTMLElement && dropzone instanceof domObjects.SVGElement && !(dropzone instanceof domObjects.SVGSVGElement)) {\n\n        if (dropzone === deepestZone.parentNode) {\n          continue;\n        }\n\n        parent = dropzone.ownerSVGElement;\n      } else {\n        parent = dropzone;\n      }\n\n      dropzoneParents = [];\n\n      while (parent.parentNode !== parent.ownerDocument) {\n        dropzoneParents.unshift(parent);\n        parent = parent.parentNode;\n      }\n\n      n = 0;\n\n      // get (position of last common ancestor) + 1\n      while (dropzoneParents[n] && dropzoneParents[n] === deepestZoneParents[n]) {\n        n++;\n      }\n\n      var parents = [dropzoneParents[n - 1], dropzoneParents[n], deepestZoneParents[n]];\n\n      child = parents[0].lastChild;\n\n      while (child) {\n        if (child === parents[1]) {\n          deepestZone = dropzone;\n          index = i;\n          deepestZoneParents = [];\n\n          break;\n        } else if (child === parents[2]) {\n          break;\n        }\n\n        child = child.previousSibling;\n      }\n    }\n\n    return index;\n  },\n\n  matchesUpTo: function matchesUpTo(element, selector, limit) {\n    while (is.element(element)) {\n      if (domUtils.matchesSelector(element, selector)) {\n        return true;\n      }\n\n      element = domUtils.parentNode(element);\n\n      if (element === limit) {\n        return domUtils.matchesSelector(element, selector);\n      }\n    }\n\n    return false;\n  },\n\n  getActualElement: function getActualElement(element) {\n    return element instanceof domObjects.SVGElementInstance ? element.correspondingUseElement : element;\n  },\n\n  getScrollXY: function getScrollXY(relevantWindow) {\n    relevantWindow = relevantWindow || win.window;\n    return {\n      x: relevantWindow.scrollX || relevantWindow.document.documentElement.scrollLeft,\n      y: relevantWindow.scrollY || relevantWindow.document.documentElement.scrollTop\n    };\n  },\n\n  getElementClientRect: function getElementClientRect(element) {\n    var clientRect = element instanceof domObjects.SVGElement ? element.getBoundingClientRect() : element.getClientRects()[0];\n\n    return clientRect && {\n      left: clientRect.left,\n      right: clientRect.right,\n      top: clientRect.top,\n      bottom: clientRect.bottom,\n      width: clientRect.width || clientRect.right - clientRect.left,\n      height: clientRect.height || clientRect.bottom - clientRect.top\n    };\n  },\n\n  getElementRect: function getElementRect(element) {\n    var clientRect = domUtils.getElementClientRect(element);\n\n    if (!browser.isIOS7 && clientRect) {\n      var scroll = domUtils.getScrollXY(win.getWindow(element));\n\n      clientRect.left += scroll.x;\n      clientRect.right += scroll.x;\n      clientRect.top += scroll.y;\n      clientRect.bottom += scroll.y;\n    }\n\n    return clientRect;\n  },\n\n  getPath: function getPath(element) {\n    var path = [];\n\n    while (element) {\n      path.push(element);\n      element = domUtils.parentNode(element);\n    }\n\n    return path;\n  },\n\n  trySelector: function trySelector(value) {\n    if (!is.string(value)) {\n      return false;\n    }\n\n    // an exception will be raised if it is invalid\n    domObjects.document.querySelector(value);\n    return true;\n  }\n};\n\nmodule.exports = domUtils;\n\n},{\"./browser\":36,\"./domObjects\":38,\"./is\":46,\"./window\":52}],40:[function(require,module,exports){\n'use strict';\n\nvar is = require('./is');\nvar domUtils = require('./domUtils');\nvar pointerUtils = require('./pointerUtils');\nvar pExtend = require('./pointerExtend');\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar _require2 = require('./arr'),\n    contains = _require2.contains;\n\nvar elements = [];\nvar targets = [];\n\n// {\n//   type: {\n//     selectors: ['selector', ...],\n//     contexts : [document, ...],\n//     listeners: [[listener, capture, passive], ...]\n//   }\n//  }\nvar delegatedEvents = {};\nvar documents = [];\n\nvar supportsOptions = function () {\n  var supported = false;\n\n  window.document.createElement('div').addEventListener('test', null, {\n    get capture() {\n      supported = true;\n    }\n  });\n\n  return supported;\n}();\n\nfunction add(element, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var elementIndex = elements.indexOf(element);\n  var target = targets[elementIndex];\n\n  if (!target) {\n    target = {\n      events: {},\n      typeCount: 0\n    };\n\n    elementIndex = elements.push(element) - 1;\n    targets.push(target);\n  }\n\n  if (!target.events[type]) {\n    target.events[type] = [];\n    target.typeCount++;\n  }\n\n  if (!contains(target.events[type], listener)) {\n    element.addEventListener(type, listener, supportsOptions ? options : !!options.capture);\n    target.events[type].push(listener);\n  }\n}\n\nfunction remove(element, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var elementIndex = elements.indexOf(element);\n  var target = targets[elementIndex];\n\n  if (!target || !target.events) {\n    return;\n  }\n\n  if (type === 'all') {\n    for (type in target.events) {\n      if (target.events.hasOwnProperty(type)) {\n        remove(element, type, 'all');\n      }\n    }\n    return;\n  }\n\n  if (target.events[type]) {\n    var len = target.events[type].length;\n\n    if (listener === 'all') {\n      for (var i = 0; i < len; i++) {\n        remove(element, type, target.events[type][i], options);\n      }\n      return;\n    } else {\n      for (var _i = 0; _i < len; _i++) {\n        if (target.events[type][_i] === listener) {\n          element.removeEventListener('on' + type, listener, supportsOptions ? options : !!options.capture);\n          target.events[type].splice(_i, 1);\n\n          break;\n        }\n      }\n    }\n\n    if (target.events[type] && target.events[type].length === 0) {\n      target.events[type] = null;\n      target.typeCount--;\n    }\n  }\n\n  if (!target.typeCount) {\n    targets.splice(elementIndex, 1);\n    elements.splice(elementIndex, 1);\n  }\n}\n\nfunction addDelegate(selector, context, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  if (!delegatedEvents[type]) {\n    delegatedEvents[type] = {\n      selectors: [],\n      contexts: [],\n      listeners: []\n    };\n\n    // add delegate listener functions\n    for (var _i2 = 0; _i2 < documents.length; _i2++) {\n      var doc = documents[_i2];\n      add(doc, type, delegateListener);\n      add(doc, type, delegateUseCapture, true);\n    }\n  }\n\n  var delegated = delegatedEvents[type];\n  var index = void 0;\n\n  for (index = delegated.selectors.length - 1; index >= 0; index--) {\n    if (delegated.selectors[index] === selector && delegated.contexts[index] === context) {\n      break;\n    }\n  }\n\n  if (index === -1) {\n    index = delegated.selectors.length;\n\n    delegated.selectors.push(selector);\n    delegated.contexts.push(context);\n    delegated.listeners.push([]);\n  }\n\n  // keep listener and capture and passive flags\n  delegated.listeners[index].push([listener, !!options.capture, options.passive]);\n}\n\nfunction removeDelegate(selector, context, type, listener, optionalArg) {\n  var options = getOptions(optionalArg);\n  var delegated = delegatedEvents[type];\n  var matchFound = false;\n  var index = void 0;\n\n  if (!delegated) {\n    return;\n  }\n\n  // count from last index of delegated to 0\n  for (index = delegated.selectors.length - 1; index >= 0; index--) {\n    // look for matching selector and context Node\n    if (delegated.selectors[index] === selector && delegated.contexts[index] === context) {\n\n      var listeners = delegated.listeners[index];\n\n      // each item of the listeners array is an array: [function, capture, passive]\n      for (var i = listeners.length - 1; i >= 0; i--) {\n        var _listeners$i = listeners[i],\n            fn = _listeners$i[0],\n            capture = _listeners$i[1],\n            passive = _listeners$i[2];\n\n        // check if the listener functions and capture and passive flags match\n\n        if (fn === listener && capture === !!options.capture && passive === options.passive) {\n          // remove the listener from the array of listeners\n          listeners.splice(i, 1);\n\n          // if all listeners for this interactable have been removed\n          // remove the interactable from the delegated arrays\n          if (!listeners.length) {\n            delegated.selectors.splice(index, 1);\n            delegated.contexts.splice(index, 1);\n            delegated.listeners.splice(index, 1);\n\n            // remove delegate function from context\n            remove(context, type, delegateListener);\n            remove(context, type, delegateUseCapture, true);\n\n            // remove the arrays if they are empty\n            if (!delegated.selectors.length) {\n              delegatedEvents[type] = null;\n            }\n          }\n\n          // only remove one listener\n          matchFound = true;\n          break;\n        }\n      }\n\n      if (matchFound) {\n        break;\n      }\n    }\n  }\n}\n\n// bound to the interactable context when a DOM event\n// listener is added to a selector interactable\nfunction delegateListener(event, optionalArg) {\n  var options = getOptions(optionalArg);\n  var fakeEvent = {};\n  var delegated = delegatedEvents[event.type];\n\n  var _pointerUtils$getEven = pointerUtils.getEventTargets(event),\n      eventTarget = _pointerUtils$getEven[0];\n\n  var element = eventTarget;\n\n  // duplicate the event so that currentTarget can be changed\n  pExtend(fakeEvent, event);\n\n  fakeEvent.originalEvent = event;\n  fakeEvent.preventDefault = preventOriginalDefault;\n\n  // climb up document tree looking for selector matches\n  while (is.element(element)) {\n    for (var i = 0; i < delegated.selectors.length; i++) {\n      var selector = delegated.selectors[i];\n      var context = delegated.contexts[i];\n\n      if (domUtils.matchesSelector(element, selector) && domUtils.nodeContains(context, eventTarget) && domUtils.nodeContains(context, element)) {\n\n        var listeners = delegated.listeners[i];\n\n        fakeEvent.currentTarget = element;\n\n        for (var j = 0; j < listeners.length; j++) {\n          var _listeners$j = listeners[j],\n              fn = _listeners$j[0],\n              capture = _listeners$j[1],\n              passive = _listeners$j[2];\n\n\n          if (capture === !!options.capture && passive === options.passive) {\n            fn(fakeEvent);\n          }\n        }\n      }\n    }\n\n    element = domUtils.parentNode(element);\n  }\n}\n\nfunction delegateUseCapture(event) {\n  return delegateListener.call(this, event, true);\n}\n\nfunction preventOriginalDefault() {\n  this.originalEvent.preventDefault();\n}\n\nfunction getOptions(param) {\n  return is.object(param) ? param : { capture: param };\n}\n\nmodule.exports = {\n  add: add,\n  remove: remove,\n\n  addDelegate: addDelegate,\n  removeDelegate: removeDelegate,\n\n  delegateListener: delegateListener,\n  delegateUseCapture: delegateUseCapture,\n  delegatedEvents: delegatedEvents,\n  documents: documents,\n\n  supportsOptions: supportsOptions,\n\n  _elements: elements,\n  _targets: targets\n};\n\n},{\"./arr\":35,\"./domUtils\":39,\"./is\":46,\"./pointerExtend\":48,\"./pointerUtils\":49,\"./window\":52}],41:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function extend(dest, source) {\n  for (var prop in source) {\n    dest[prop] = source[prop];\n  }\n  return dest;\n};\n\n},{}],42:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./rect'),\n    resolveRectLike = _require.resolveRectLike,\n    rectToXY = _require.rectToXY;\n\nmodule.exports = function (target, element, action) {\n  var actionOptions = target.options[action];\n  var actionOrigin = actionOptions && actionOptions.origin;\n  var origin = actionOrigin || target.options.origin;\n\n  var originRect = resolveRectLike(origin, target, element, [target && element]);\n\n  return rectToXY(originRect) || { x: 0, y: 0 };\n};\n\n},{\"./rect\":51}],43:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (x, y) {\n  return Math.sqrt(x * x + y * y);\n};\n\n},{}],44:[function(require,module,exports){\n'use strict';\n\nvar extend = require('./extend');\nvar win = require('./window');\n\nvar utils = {\n  warnOnce: function warnOnce(method, message) {\n    var warned = false;\n\n    return function () {\n      if (!warned) {\n        win.window.console.warn(message);\n        warned = true;\n      }\n\n      return method.apply(this, arguments);\n    };\n  },\n\n  // http://stackoverflow.com/a/5634528/2280888\n  _getQBezierValue: function _getQBezierValue(t, p1, p2, p3) {\n    var iT = 1 - t;\n    return iT * iT * p1 + 2 * iT * t * p2 + t * t * p3;\n  },\n\n  getQuadraticCurvePoint: function getQuadraticCurvePoint(startX, startY, cpX, cpY, endX, endY, position) {\n    return {\n      x: utils._getQBezierValue(position, startX, cpX, endX),\n      y: utils._getQBezierValue(position, startY, cpY, endY)\n    };\n  },\n\n  // http://gizma.com/easing/\n  easeOutQuad: function easeOutQuad(t, b, c, d) {\n    t /= d;\n    return -c * t * (t - 2) + b;\n  },\n\n  copyAction: function copyAction(dest, src) {\n    dest.name = src.name;\n    dest.axis = src.axis;\n    dest.edges = src.edges;\n\n    return dest;\n  },\n\n  is: require('./is'),\n  extend: extend,\n  hypot: require('./hypot'),\n  getOriginXY: require('./getOriginXY')\n};\n\nextend(utils, require('./arr'));\nextend(utils, require('./domUtils'));\nextend(utils, require('./pointerUtils'));\nextend(utils, require('./rect'));\n\nmodule.exports = utils;\n\n},{\"./arr\":35,\"./domUtils\":39,\"./extend\":41,\"./getOriginXY\":42,\"./hypot\":43,\"./is\":46,\"./pointerUtils\":49,\"./rect\":51,\"./window\":52}],45:[function(require,module,exports){\n'use strict';\n\nvar scope = require('../scope');\nvar utils = require('./index');\n\nvar finder = {\n  methodOrder: ['simulationResume', 'mouseOrPen', 'hasPointer', 'idle'],\n\n  search: function search(pointer, eventType, eventTarget) {\n    var pointerType = utils.getPointerType(pointer);\n    var pointerId = utils.getPointerId(pointer);\n    var details = { pointer: pointer, pointerId: pointerId, pointerType: pointerType, eventType: eventType, eventTarget: eventTarget };\n\n    for (var _i = 0; _i < finder.methodOrder.length; _i++) {\n      var _ref;\n\n      _ref = finder.methodOrder[_i];\n      var method = _ref;\n\n      var interaction = finder[method](details);\n\n      if (interaction) {\n        return interaction;\n      }\n    }\n  },\n\n  // try to resume simulation with a new pointer\n  simulationResume: function simulationResume(_ref2) {\n    var pointerType = _ref2.pointerType,\n        eventType = _ref2.eventType,\n        eventTarget = _ref2.eventTarget;\n\n    if (!/down|start/i.test(eventType)) {\n      return null;\n    }\n\n    for (var _i2 = 0; _i2 < scope.interactions.length; _i2++) {\n      var _ref3;\n\n      _ref3 = scope.interactions[_i2];\n      var interaction = _ref3;\n\n      var element = eventTarget;\n\n      if (interaction.simulation && interaction.simulation.allowResume && interaction.pointerType === pointerType) {\n        while (element) {\n          // if the element is the interaction element\n          if (element === interaction.element) {\n            return interaction;\n          }\n          element = utils.parentNode(element);\n        }\n      }\n    }\n\n    return null;\n  },\n\n  // if it's a mouse or pen interaction\n  mouseOrPen: function mouseOrPen(_ref4) {\n    var pointerId = _ref4.pointerId,\n        pointerType = _ref4.pointerType,\n        eventType = _ref4.eventType;\n\n    if (pointerType !== 'mouse' && pointerType !== 'pen') {\n      return null;\n    }\n\n    var firstNonActive = void 0;\n\n    for (var _i3 = 0; _i3 < scope.interactions.length; _i3++) {\n      var _ref5;\n\n      _ref5 = scope.interactions[_i3];\n      var interaction = _ref5;\n\n      if (interaction.pointerType === pointerType) {\n        // if it's a down event, skip interactions with running simulations\n        if (interaction.simulation && !utils.contains(interaction.pointerIds, pointerId)) {\n          continue;\n        }\n\n        // if the interaction is active, return it immediately\n        if (interaction.interacting()) {\n          return interaction;\n        }\n        // otherwise save it and look for another active interaction\n        else if (!firstNonActive) {\n            firstNonActive = interaction;\n          }\n      }\n    }\n\n    // if no active mouse interaction was found use the first inactive mouse\n    // interaction\n    if (firstNonActive) {\n      return firstNonActive;\n    }\n\n    // find any mouse or pen interaction.\n    // ignore the interaction if the eventType is a *down, and a simulation\n    // is active\n    for (var _i4 = 0; _i4 < scope.interactions.length; _i4++) {\n      var _ref6;\n\n      _ref6 = scope.interactions[_i4];\n      var _interaction = _ref6;\n\n      if (_interaction.pointerType === pointerType && !(/down/i.test(eventType) && _interaction.simulation)) {\n        return _interaction;\n      }\n    }\n\n    return null;\n  },\n\n  // get interaction that has this pointer\n  hasPointer: function hasPointer(_ref7) {\n    var pointerId = _ref7.pointerId;\n\n    for (var _i5 = 0; _i5 < scope.interactions.length; _i5++) {\n      var _ref8;\n\n      _ref8 = scope.interactions[_i5];\n      var interaction = _ref8;\n\n      if (utils.contains(interaction.pointerIds, pointerId)) {\n        return interaction;\n      }\n    }\n  },\n\n  // get first idle interaction with a matching pointerType\n  idle: function idle(_ref9) {\n    var pointerType = _ref9.pointerType;\n\n    for (var _i6 = 0; _i6 < scope.interactions.length; _i6++) {\n      var _ref10;\n\n      _ref10 = scope.interactions[_i6];\n      var interaction = _ref10;\n\n      // if there's already a pointer held down\n      if (interaction.pointerIds.length === 1) {\n        var target = interaction.target;\n        // don't add this pointer if there is a target interactable and it\n        // isn't gesturable\n        if (target && !target.options.gesture.enabled) {\n          continue;\n        }\n      }\n      // maximum of 2 pointers per interaction\n      else if (interaction.pointerIds.length >= 2) {\n          continue;\n        }\n\n      if (!interaction.interacting() && pointerType === interaction.pointerType) {\n        return interaction;\n      }\n    }\n\n    return null;\n  }\n};\n\nmodule.exports = finder;\n\n},{\"../scope\":33,\"./index\":44}],46:[function(require,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar win = require('./window');\nvar isWindow = require('./isWindow');\n\nvar is = {\n  array: function array() {},\n\n  window: function window(thing) {\n    return thing === win.window || isWindow(thing);\n  },\n\n  docFrag: function docFrag(thing) {\n    return is.object(thing) && thing.nodeType === 11;\n  },\n\n  object: function object(thing) {\n    return !!thing && (typeof thing === 'undefined' ? 'undefined' : _typeof(thing)) === 'object';\n  },\n\n  function: function _function(thing) {\n    return typeof thing === 'function';\n  },\n\n  number: function number(thing) {\n    return typeof thing === 'number';\n  },\n\n  bool: function bool(thing) {\n    return typeof thing === 'boolean';\n  },\n\n  string: function string(thing) {\n    return typeof thing === 'string';\n  },\n\n  element: function element(thing) {\n    if (!thing || (typeof thing === 'undefined' ? 'undefined' : _typeof(thing)) !== 'object') {\n      return false;\n    }\n\n    var _window = win.getWindow(thing) || win.window;\n\n    return (/object|function/.test(_typeof(_window.Element)) ? thing instanceof _window.Element //DOM2\n      : thing.nodeType === 1 && typeof thing.nodeName === 'string'\n    );\n  },\n\n  plainObject: function plainObject(thing) {\n    return is.object(thing) && thing.constructor.name === 'Object';\n  }\n};\n\nis.array = function (thing) {\n  return is.object(thing) && typeof thing.length !== 'undefined' && is.function(thing.splice);\n};\n\nmodule.exports = is;\n\n},{\"./isWindow\":47,\"./window\":52}],47:[function(require,module,exports){\n\"use strict\";\n\nmodule.exports = function (thing) {\n  return !!(thing && thing.Window) && thing instanceof thing.Window;\n};\n\n},{}],48:[function(require,module,exports){\n'use strict';\n\nfunction pointerExtend(dest, source) {\n  for (var prop in source) {\n    var prefixedPropREs = module.exports.prefixedPropREs;\n    var deprecated = false;\n\n    // skip deprecated prefixed properties\n    for (var vendor in prefixedPropREs) {\n      if (prop.indexOf(vendor) === 0 && prefixedPropREs[vendor].test(prop)) {\n        deprecated = true;\n        break;\n      }\n    }\n\n    if (!deprecated && typeof source[prop] !== 'function') {\n      dest[prop] = source[prop];\n    }\n  }\n  return dest;\n}\n\npointerExtend.prefixedPropREs = {\n  webkit: /(Movement[XY]|Radius[XY]|RotationAngle|Force)$/\n};\n\nmodule.exports = pointerExtend;\n\n},{}],49:[function(require,module,exports){\n'use strict';\n\nvar hypot = require('./hypot');\nvar browser = require('./browser');\nvar dom = require('./domObjects');\nvar domUtils = require('./domUtils');\nvar domObjects = require('./domObjects');\nvar is = require('./is');\nvar pointerExtend = require('./pointerExtend');\n\nvar pointerUtils = {\n  copyCoords: function copyCoords(dest, src) {\n    dest.page = dest.page || {};\n    dest.page.x = src.page.x;\n    dest.page.y = src.page.y;\n\n    dest.client = dest.client || {};\n    dest.client.x = src.client.x;\n    dest.client.y = src.client.y;\n\n    dest.timeStamp = src.timeStamp;\n  },\n\n  setCoordDeltas: function setCoordDeltas(targetObj, prev, cur) {\n    targetObj.page.x = cur.page.x - prev.page.x;\n    targetObj.page.y = cur.page.y - prev.page.y;\n    targetObj.client.x = cur.client.x - prev.client.x;\n    targetObj.client.y = cur.client.y - prev.client.y;\n    targetObj.timeStamp = cur.timeStamp - prev.timeStamp;\n\n    // set pointer velocity\n    var dt = Math.max(targetObj.timeStamp / 1000, 0.001);\n\n    targetObj.page.speed = hypot(targetObj.page.x, targetObj.page.y) / dt;\n    targetObj.page.vx = targetObj.page.x / dt;\n    targetObj.page.vy = targetObj.page.y / dt;\n\n    targetObj.client.speed = hypot(targetObj.client.x, targetObj.page.y) / dt;\n    targetObj.client.vx = targetObj.client.x / dt;\n    targetObj.client.vy = targetObj.client.y / dt;\n  },\n\n  isNativePointer: function isNativePointer(pointer) {\n    return pointer instanceof dom.Event || pointer instanceof dom.Touch;\n  },\n\n  // Get specified X/Y coords for mouse or event.touches[0]\n  getXY: function getXY(type, pointer, xy) {\n    xy = xy || {};\n    type = type || 'page';\n\n    xy.x = pointer[type + 'X'];\n    xy.y = pointer[type + 'Y'];\n\n    return xy;\n  },\n\n  getPageXY: function getPageXY(pointer, page) {\n    page = page || {};\n\n    // Opera Mobile handles the viewport and scrolling oddly\n    if (browser.isOperaMobile && pointerUtils.isNativePointer(pointer)) {\n      pointerUtils.getXY('screen', pointer, page);\n\n      page.x += window.scrollX;\n      page.y += window.scrollY;\n    } else {\n      pointerUtils.getXY('page', pointer, page);\n    }\n\n    return page;\n  },\n\n  getClientXY: function getClientXY(pointer, client) {\n    client = client || {};\n\n    if (browser.isOperaMobile && pointerUtils.isNativePointer(pointer)) {\n      // Opera Mobile handles the viewport and scrolling oddly\n      pointerUtils.getXY('screen', pointer, client);\n    } else {\n      pointerUtils.getXY('client', pointer, client);\n    }\n\n    return client;\n  },\n\n  getPointerId: function getPointerId(pointer) {\n    return is.number(pointer.pointerId) ? pointer.pointerId : pointer.identifier;\n  },\n\n  setCoords: function setCoords(targetObj, pointers, timeStamp) {\n    var pointer = pointers.length > 1 ? pointerUtils.pointerAverage(pointers) : pointers[0];\n\n    var tmpXY = {};\n\n    pointerUtils.getPageXY(pointer, tmpXY);\n    targetObj.page.x = tmpXY.x;\n    targetObj.page.y = tmpXY.y;\n\n    pointerUtils.getClientXY(pointer, tmpXY);\n    targetObj.client.x = tmpXY.x;\n    targetObj.client.y = tmpXY.y;\n\n    targetObj.timeStamp = is.number(timeStamp) ? timeStamp : new Date().getTime();\n  },\n\n  pointerExtend: pointerExtend,\n\n  getTouchPair: function getTouchPair(event) {\n    var touches = [];\n\n    // array of touches is supplied\n    if (is.array(event)) {\n      touches[0] = event[0];\n      touches[1] = event[1];\n    }\n    // an event\n    else {\n        if (event.type === 'touchend') {\n          if (event.touches.length === 1) {\n            touches[0] = event.touches[0];\n            touches[1] = event.changedTouches[0];\n          } else if (event.touches.length === 0) {\n            touches[0] = event.changedTouches[0];\n            touches[1] = event.changedTouches[1];\n          }\n        } else {\n          touches[0] = event.touches[0];\n          touches[1] = event.touches[1];\n        }\n      }\n\n    return touches;\n  },\n\n  pointerAverage: function pointerAverage(pointers) {\n    var average = {\n      pageX: 0,\n      pageY: 0,\n      clientX: 0,\n      clientY: 0,\n      screenX: 0,\n      screenY: 0\n    };\n\n    for (var _i = 0; _i < pointers.length; _i++) {\n      var _ref;\n\n      _ref = pointers[_i];\n      var pointer = _ref;\n\n      for (var _prop in average) {\n        average[_prop] += pointer[_prop];\n      }\n    }\n    for (var prop in average) {\n      average[prop] /= pointers.length;\n    }\n\n    return average;\n  },\n\n  touchBBox: function touchBBox(event) {\n    if (!event.length && !(event.touches && event.touches.length > 1)) {\n      return;\n    }\n\n    var touches = pointerUtils.getTouchPair(event);\n    var minX = Math.min(touches[0].pageX, touches[1].pageX);\n    var minY = Math.min(touches[0].pageY, touches[1].pageY);\n    var maxX = Math.max(touches[0].pageX, touches[1].pageX);\n    var maxY = Math.max(touches[0].pageY, touches[1].pageY);\n\n    return {\n      x: minX,\n      y: minY,\n      left: minX,\n      top: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  },\n\n  touchDistance: function touchDistance(event, deltaSource) {\n    var sourceX = deltaSource + 'X';\n    var sourceY = deltaSource + 'Y';\n    var touches = pointerUtils.getTouchPair(event);\n\n    var dx = touches[0][sourceX] - touches[1][sourceX];\n    var dy = touches[0][sourceY] - touches[1][sourceY];\n\n    return hypot(dx, dy);\n  },\n\n  touchAngle: function touchAngle(event, prevAngle, deltaSource) {\n    var sourceX = deltaSource + 'X';\n    var sourceY = deltaSource + 'Y';\n    var touches = pointerUtils.getTouchPair(event);\n    var dx = touches[1][sourceX] - touches[0][sourceX];\n    var dy = touches[1][sourceY] - touches[0][sourceY];\n    var angle = 180 * Math.atan2(dy, dx) / Math.PI;\n\n    return angle;\n  },\n\n  getPointerType: function getPointerType(pointer) {\n    return is.string(pointer.pointerType) ? pointer.pointerType : is.number(pointer.pointerType) ? [undefined, undefined, 'touch', 'pen', 'mouse'][pointer.pointerType]\n    // if the PointerEvent API isn't available, then the \"pointer\" must\n    // be either a MouseEvent, TouchEvent, or Touch object\n    : /touch/.test(pointer.type) || pointer instanceof domObjects.Touch ? 'touch' : 'mouse';\n  },\n\n  // [ event.target, event.currentTarget ]\n  getEventTargets: function getEventTargets(event) {\n    var path = is.function(event.composedPath) ? event.composedPath() : event.path;\n\n    return [domUtils.getActualElement(path ? path[0] : event.target), domUtils.getActualElement(event.currentTarget)];\n  }\n};\n\nmodule.exports = pointerUtils;\n\n},{\"./browser\":36,\"./domObjects\":38,\"./domUtils\":39,\"./hypot\":43,\"./is\":46,\"./pointerExtend\":48}],50:[function(require,module,exports){\n'use strict';\n\nvar _require = require('./window'),\n    window = _require.window;\n\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\nvar lastTime = 0;\nvar request = void 0;\nvar cancel = void 0;\n\nfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; x++) {\n  request = window[vendors[x] + 'RequestAnimationFrame'];\n  cancel = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n}\n\nif (!request) {\n  request = function request(callback) {\n    var currTime = new Date().getTime();\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    var id = setTimeout(function () {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nif (!cancel) {\n  cancel = function cancel(id) {\n    clearTimeout(id);\n  };\n}\n\nmodule.exports = {\n  request: request,\n  cancel: cancel\n};\n\n},{\"./window\":52}],51:[function(require,module,exports){\n'use strict';\n\nvar extend = require('./extend');\nvar is = require('./is');\n\nvar _require = require('./domUtils'),\n    closest = _require.closest,\n    parentNode = _require.parentNode,\n    getElementRect = _require.getElementRect;\n\nvar rectUtils = {\n  getStringOptionResult: function getStringOptionResult(value, interactable, element) {\n    if (!is.string(value)) {\n      return null;\n    }\n\n    if (value === 'parent') {\n      value = parentNode(element);\n    } else if (value === 'self') {\n      value = interactable.getRect(element);\n    } else {\n      value = closest(element, value);\n    }\n\n    return value;\n  },\n\n  resolveRectLike: function resolveRectLike(value, interactable, element, functionArgs) {\n    value = rectUtils.getStringOptionResult(value, interactable, element) || value;\n\n    if (is.function(value)) {\n      value = value.apply(null, functionArgs);\n    }\n\n    if (is.element(value)) {\n      value = getElementRect(value);\n    }\n\n    return value;\n  },\n\n  rectToXY: function rectToXY(rect) {\n    return rect && {\n      x: 'x' in rect ? rect.x : rect.left,\n      y: 'y' in rect ? rect.y : rect.top\n    };\n  },\n\n  xywhToTlbr: function xywhToTlbr(rect) {\n    if (rect && !('left' in rect && 'top' in rect)) {\n      rect = extend({}, rect);\n\n      rect.left = rect.x || 0;\n      rect.top = rect.y || 0;\n      rect.right = rect.right || rect.left + rect.width;\n      rect.bottom = rect.bottom || rect.top + rect.height;\n    }\n\n    return rect;\n  },\n\n  tlbrToXywh: function tlbrToXywh(rect) {\n    if (rect && !('x' in rect && 'y' in rect)) {\n      rect = extend({}, rect);\n\n      rect.x = rect.left || 0;\n      rect.top = rect.top || 0;\n      rect.width = rect.width || rect.right - rect.x;\n      rect.height = rect.height || rect.bottom - rect.y;\n    }\n\n    return rect;\n  }\n};\n\nmodule.exports = rectUtils;\n\n},{\"./domUtils\":39,\"./extend\":41,\"./is\":46}],52:[function(require,module,exports){\n'use strict';\n\nvar win = module.exports;\nvar isWindow = require('./isWindow');\n\nfunction init(window) {\n  // get wrapped window if using Shadow DOM polyfill\n\n  win.realWindow = window;\n\n  // create a TextNode\n  var el = window.document.createTextNode('');\n\n  // check if it's wrapped by a polyfill\n  if (el.ownerDocument !== window.document && typeof window.wrap === 'function' && window.wrap(el) === el) {\n    // use wrapped window\n    window = window.wrap(window);\n  }\n\n  win.window = window;\n}\n\nif (typeof window === 'undefined') {\n  win.window = undefined;\n  win.realWindow = undefined;\n} else {\n  init(window);\n}\n\nwin.getWindow = function getWindow(node) {\n  if (isWindow(node)) {\n    return node;\n  }\n\n  var rootNode = node.ownerDocument || node;\n\n  return rootNode.defaultView || rootNode.parentWindow || win.window;\n};\n\nwin.init = init;\n\n},{\"./isWindow\":47}]},{},[1])(1)\n});\n\n\n//# sourceMappingURL=interact.js.map\n"]}